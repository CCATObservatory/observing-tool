<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>The JCMT OT primer</title>
  </head>

<body text="#000000" bgcolor="#bbcccc" link="#003300" vlink="#005500" alink="#
ff0000">

    <img src="images/root.gif" align="right">
        <h1>The JCMT OT primer</h1>


    <p>This document is a primer on how to use the JCMT Observing Tool
    (JCMT OT) to prepare and submit observations for semester 2006B
    (see <a href="faq.html#why">Why do I have to do this?</a>). It
    assumes that you have already downloaded and installed the
    software (see our <a href="download.html">download page</a> - make
    sure you have downloaded the latest version!). Of course if you
    are using a JAC, UKIRT or JCMT machine, the software is already
    installed. You will also need the <a
	href="http://omp.jach.hawaii.edu/cgi-bin/issuepwd.pl">OMP
	password</a> for your project in order to be able to <a
	href="recap.html#database">upload</a> your MSBs to our
      observing database.<p> 

If you are viewing this document through the JCMT-OT Help menu, there
may be a more up-to-date version on our web site at <a
href="http://www.jach.hawaii.edu/software/jcmtot/">http://www.jach.hawaii.edu/software/jcmtot/</a>.

<p>
      
      If, after reading this guide you have any questions about
      preparing your observations, please consult with your "Friend of the Project" (see <a href="http://www.jach.hawaii.edu/JCMT/allocations">http://www.jach.hawaii.edu/JCMT/allocations</a>), or email <a
      href="mailto:jcmtot@jach.hawaii.edu">jcmtot@jach.hawaii.edu</a>.

<p>
<div align=center>
<table width=600>
<tr><td>
<center>
<h2>Read This: Interim ACSIS version Oct 2006!</h2>
Remo Tilanus, Head of JCMT Operations
</center>

<p>
This version of the <em><b>JCMT OT</b></em> is an interim release that
enables users to build their science program for heterodyne
observations with ACSIS. A new <a href="het_example.html#het_msblib">
templates library<a> has been provided that covers the four observing
modes being offered at this time: <em>Sample, Grid-PSSW,
Jiggle-Chop,</em> and <em>Raster</em>. Investigators are urged to
carefully inspect the example for a beam-switched observation below
and to read the more extensive explanation and instructions presented
for each observing mode. While the components will look familiar to
experienced JCMT observers, most have changed, sometimes in a fairly
subtle manner.

<p>
While specification of <b>calibration observations</b> will be part of
future release, it had to be omitted from the present one due to
technical complications. As was the case with the
previous heterodyne OT, the telescope operators (TSS) will insert
calibrations, pointings, foci, etc. into the observing sequence as
appropriate. Unless you have a fixed observing mode and source for the
calibration, please specify special instructions and wishes regarding
calibrations in the 'Note to Observer'. Another change to watch out
for is that <b>integration times</b> are now the <em>"on"-source</em>
time only, instead of <em>"on+off"</em> as before. A subtle change to
watch out for is the interaction between the Heterodyne and Target
component, as explained in the <a
href="advanced.html#advanced">Advanced topics</a>.  Observers with
programs that involve many MSBs are urged to read the advanced
information on <a href="advanced.html#andor">AND and OR Folders</a>
and the new <a href="advanced.html#survey">Survey Container</a>, which
may significantly simplify their setup. A number of the more advanced
configurations are not yet available: e.g. frequency switching,
multiple spectral windows, special ACSIS configurations and galactic
coordinates.

<p>
Above all: please realize that the OT for ACSIS is still work in progress; 
be sure to 
double-check <i>carefully</i> your program setup. The quoted Observing times
are approximate and estimates of overheads are based on limited
tests. Check the validation messages and notify us of problems: except
for some aspects that are hardcoded, validation can be updated
dynamically without having to re-install the OTsince validation automatically
runs the most up-to-date version when on an active internet
connection.

<p>
<em><b>General information:</b></em><br>
Starting from August 2006, observing at the JCMT has entered a new
era. For the forseeable future, a significant fraction of the time on the
telescope will be spent on wide-field astronomy and the large-scale surveys
from the Legacy Programme. Also, interferometric observations are 
being undertaken
as part of the <a href="/JCMT/eSMA">eSMA</a>. Still, a large fraction
of the time is reserved for PI projects who will need to prepare their
observations at the start of each observing semester. All observing at
the JCMT is <i>flexibly scheduled</i> and managed through the <a
href="http://omp.jach.hawaii.edu">OMP</a> in a <i>cradle-to-grave</i>
fashion. An interim version of the observation preparation tool, <a
href="/software/jcmtot">JCMTOT</a>, has been released for support of
the new heterodyne backend 
<!-- (update with better link!) -->
<a href="http://www.jach.hawaii.edu/JCMT/future/ACSIS/acsis.html">ACSIS</a>.


<p>
Those familar with JCMT will notice major changes, especially to
heterodyne observing. Gone are the days of small <i>gsd</i> files
and <i>SPECX</i>. The ACSIS data rate with HARP can be such that it
requires massive parallel handling and delivers files of 100s of MB in
size. All observations, including single spectra, result in <i>data cubes</i>, albeit those may
have spatial dimensions of 1x1. The JCMT actually offers several data
products.  The 
<a href="http://www.oracdr.org/">oracdr</a>
pipeline running 
<!-- (add link!) -->
<a href="...link here...">SMURF</a> data reduction software delivers
gridded, baselined, and coadded cubes in <a
href="http://star-www.rl.ac.uk/star/docs/sun33.htx/sun33.html">NDF</a>.
A conversion to <a href="http://fits.gsfc.nasa.gov">FITS</a> format is
available. All spectra that fall on the same pixel are automatically
coadded. It is expected that observers in general will use these
gridded data cubes as the starting point for a more extended data
reduction. A more basic data product are the <i>Spectra</i> cubes (NDF
format) containing a time-series of all spectra obtained in an
observation, calibrated, but ungridded.

<p>
Observations can be inspected using <a
href="http://star-www.dur.ac.uk/~pdraper/gaia/gaia.html">Gaia</a> and
<a href="http://star-www.dur.ac.uk/~pdraper/splat/splat.html">Splat</a>. 
Whilst these utilities also offer a range of data reduction functions
(e.g. baselining and statistics) in general they are not intended for
a full-scale reduction of large-volume observations. The SMURF
routines together with <a
href="http://star-www.rl.ac.uk/">Starlink</a> packages such as. <a
href="http://www.starlink.ac.uk/~dsb/kappa/kappa.html">Kappa</a> and
<a href="http://www.starlink.rl.ac.uk/star/docs/sun237.htx/sun237.html">
Datacube</a> offer a full suite of data reduction tasks. These
packages have been upgraded with rigorous support of the
<a href="http://fits.gsfc.nasa.gov/fits_wcs.html">World Coordinate System
(WCS)</a> as well as spectral conventions and concepts as they apply
to submm telescopes. We expect to continue to develop and add to these 
utilities in the context of the Legacy Surveys.
</td></tr>
</table>
</div>

<h2>Contents</h2>

      Because the OT is a graphical tool, the initial description of
      how to use it will undoubtedly appear long-winded. But if you use
      the text and screen shots to give yourself some practice you'll
      find that you'll actually be able to prepare your program in a
      modest number of steps.<p>

<ul>
      <li><a href="#gs">Getting started</a>
      <li><a href="#ysp">Your science program</a>
      <li><a href="#syp">Saving your progress</a>
      <li><a href="#ggtm">Getting going: The MSB</a> <p>

      <li><a href="het_example.html"> <b>Heterodyne MSBs</b></a> 
<ul>
<li>A Guided Tour of an Example MSB (Beam-Switched <i>Sample</i>)
 <ul>
 <li><a href="het_example.html#het_anat"> Anatomy of a beam-switched MSB </a> 
 <li><a href="het_example.html#ria">Really Important Aside - or is it Inside? </a>
 <li><a href="het_example.html#het_eoam">Elements of an MSB</a>
 <li><a href="het_example.html#thingies">Components, Iterators and All That</a>
 <li><a href="het_example.html#het_thsc">The Het Setup component</a>
 <li><a href="het_example.html#het_tsc">Site Quality</a>
 <li><a href="het_example.html#het_tsched">Scheduling Constraints</a>
 <li><a href="het_example.html#het_tfoc">The Observation component</a>
 <li><a href="het_example.html#het_tcc">The target component</a>
 <li><a href="het_example.html#het_tpe">The position editor</a>
 <li><a href="het_example.html#het_tci">The chop iterator</a>
 <li><a href="het_example.html#het_offset">The offset iterator</a>
 <li><a href="het_example.html#het_sample">The photom/sample eye</a>
 <li><a href="het_example.html#het_time">The repeat iterator and integration time in general</a>
 <li> <a href="het_example.html#het_note">Adding  a note</a>
 <li><a href="het_example.html#het_summary">Summary: Making your heterodyne MSB.</a>
 <li><a href="het_example.html#het_freq_ed"> The frequency editor</a> <p>
 </ul>
<li><a href="het_example.html#het_msblib">The Heterodyne MSB library</a>

 <ul>
 <li><a href="het_example.html#het_sam_folder">Samples</a>
 <li><a href="het_example.html#het_grid_folder">Grid Maps</a>
 <li><a href="het_example.html#het_jig_folder">Jiggle Maps</a>
 <li><a href="het_example.html#het_rast_folder">Raster Maps</a>
 </ul>


</ul>

      <li><a href="recap.html#recap"> <b>Recap</b></a>
<ul> 
     <li><a href="recap.html#database">Submitting to our database</a> <p>
</ul>
     
 <li><a href="faq.html#faq"><b>Frequently Asked Questions</b></a>

<ul>

<li><a href="faq.html#why"><em>Why do I have to do this</em>?</a>

<li><a href="faq.html#deadline"><em>What is the deadline for submissions?</em></a>

<li><a href="faq.html#scheduling"><em>What happens to my MSBs after I submit them?</em></a>

<li><a href="faq.html#msb"><em>What makes a good MSB?</em></a>

<li><a href="faq.html#redundancy"><em>My MSBs only last half an hour so it is
      a waste to do a calibration for each one!</em></a>

<li><a href="faq.html#library"><em>I want to do something that is not in the
      library</em></a>

<li><a href="faq.html#server"><em>What does the warning
		  "Some of the observations in the MSB contained
		  default settings for the target information"
		    mean? </em></a>

<li><a href="faq.html#timeest"><em>I don't agree with the time estimates shown in the OT</em></a><p>

</ul>

<li><a href="advanced.html#advanced"><b>Advanced topics</b></a>

<ul>

<li><a href="advanced.html#placement">A note about placement. </a>

<li><a href="advanced.html#velocities">Velocities: The Het and Target component.</a>

<li><a href="advanced.html#replication">Generating a programme from a catalogue file.</a>

<li><a href="advanced.html#constraints">Additional scheduling constraints.</a>

<li> <a href="advanced.html#andor">AND and OR Folders.</a>

<li> <a href="advanced.html#survey">Survey Container.</a>

<li><a href="advanced.html#proxy">To those behind a firewall: Setting your proxy server.</a>

</ul>


</ul>


    <h2><a name="gs">Getting started</a></h2>

    Before we get started, a few words about the OT. The purpose of
    the OT is to fully specify the observations you wish to be carried
    out at the telescope. It
    is quite a powerful tool; here we will simply see how to prepare a
    typical observing project and point you to further sources of
    information as necessary.<p>


      Ok, let's do this. Type <tt>jcmtot</tt> on your unix terminal.<p>


    You will see two windows pop up. One has a colour picture of the
    telescope - that's the JCMT root window. You can use its menus to
    open and save files and fetch programs from our database. The
    window with the JCMT line drawing, which pops on top of the root
    window, provides a shortcut to some of the most common startup
    actions, so we call that the startup screen:<p>

      <img src="images/startup.gif" alt="Image of startup screen"><p>

    For now, press "Create New Program" on the startup screen. The
    startup window will be replaced by an science program window. If
    you are using a proxy server to connect to the internet now would
    be a good time to configure the OT to use this - see the
    instructions <a href="advanced.html#proxy"> here. </a>

<p>("Open Existing Program" lets you open a science program that
      you've previously edited and saved in your own computer system.  "Fetch
      Program" allows you to download a program that that you have
      completed and uploaded to our observing database.  To download
      the program, of course, you will need the <a
	href="http://www.jach.hawaii.edu/JCMT/allocations/">project
	ID</a> 
      (e.g. m06bc18) and <a
	href="http://omp.jach.hawaii.edu/cgi-bin/issuepwd.pl">password</a>. 

    <h2><a name="ysp">Your science program</a></h2>

    Look at your blank science program window. It's essentially
    divided in four sections: 

    <ol>

      <li>the menu and general tool bars at the top
      <li>the program tool bar down the left side
      <li>the program panel in the middle
      <li>the editor panel on the right

</ol>


    The bar between the program panel and the editor panel can be
    dragged around to enlarge or reduce them.<p>


Currently, the only thing in your program panel is a "Science Program"
line. We'll add things to it later. For now, take the time to fill in
its details in the Science Program editor on the right. The most
important field here is the Project ID field. <em>You have to get this
right otherwise you will not be able to submit your program to
us</em>. Your project ID is what you were assigned when you submitted
your proposal for telescope time. It is of the form m06b followed by a
country letter and a two digit proposal number (sometimes followed by
      a letter). You can also find your country and 
proposal number in our web page of <a
href="http://www.jach.hawaii.edu/JCMT/allocations/">time
allocations</a>.<p> <img src="images/sciprog.gif" alt="Science
Program window"><p>

Also on the panel are estimates of the total time the specified
program will take with and without optional observations, which are currently both 0 since we haven't specified any
observations yet. 


    <h2><a name="syp">Saving your progress</a></h2>

    Now that we've done something we can save it. Open the File menu
    in your Science Program window and choose "Save As...".<p>

      <img src="images/filesave.gif" alt="File Save menu"><p>

      You will be prompted for a filename and so on:<p>


      <img src="images/saveas.gif" alt="Save As window"><p>

      The file format is XML, which is a text (not binary) format that
      you can read in later with the OT, or email to your
      collaborators. If you have a question, you can also email your
      file to your "Friend of the Project" (FOP; see <a
	href="http://www.jach.hawaii.edu/JCMT/allocations/">allocations</a> web page) along with your question.<p>   

      You might have noticed that the title of your Science Program
      was italics and now that you've saved the file, the title is
      normal font. When you edit a component 
      of your Science Program its title changes font to indicate that
      you need to save your work.<p>

    <h2><a name="ggtm">Getting going: The MSB</a></h2>

    Time to step back for a moment. JCMT is a flexibly scheduled
    facility. But what is it that we are actually scheduling? The
    quantum of scheduling is a Minimum Schedulable Block, or MSB. An
    MSB consists of one or more scientifically meaningful observations
    as well as any calibrations required to fully reduce the
    data. <em>An MSB will always be executed at the telescope in its
    entirety</em>. For more information see <a href="faq.html#msb">What makes
    a good MSB?</a> but for the moment bear in mind that the most
    efficient MSB consists of a 0.5 to 2 hour observation on a single
    science target and any necessary calibrations.

      
<p>Now that you've seen the basics of creating an observing program,
      and know what an MSB is, you will want to start creating your
      own.  We've created a library of MSBs for the most commonly used
      observing modes which are currently supported.  For a
      description of each, and help in creating your own program,
      please consult the <a href="het_example.html">heterodyne
	tutorial</a>.

    <h2><a name="ggtm">Uploading your program to the Observing Database</a></h2>

<p>Once you've created your MSBs and validated that they are correct,
      you will need to upload the program to our observing database so
      that the observations can be carried out.  Check <a
	href="recap.html#database">submitting MSBs</a> for
      instructions on how to do so.




    <hr>
   
  </body>
</html>

#!/bin/csh -f 
######################################################################################### 
# This file has been automatically generated by "gmake" using the setting in            # 
# ../conf/make.conf. Modifications can be lost after a new make.                     
# And the format of this script is not really meant to support manual editing.          # 
######################################################################################### 
 
# If there is no appropriate jdk1.3 java in your PATH then set one here. 
set JAVA = java 

# Specify a server (science program database)
# ATC		(ATC Development)
# HILO		(Hilo Development)
# HOME		(Home Development)
# DEPLOYED        (Deployed Server)
set SERVER = ATC

set TELESCOPE = "" 
set INTERNAL_FRAMES = -internalframes 
set OMP_FLAG = "" 
set USAGE = "Usage: $0 [-h] [-[no]internalframes] [-[no]omp] <telescope>\n  where <telescope> is one of: ${TELESCOPE_LIST}\n" 
 
############################## 
#                            # 
# Parsing arguments          # 
#                            # 
# ############################ 
foreach arg ($*) 
  if("${arg}" == "-h") then 
    printf "${USAGE}" 
    exit 
  else if("${arg}" == "-internalframes") then 
    set INTERNAL_FRAMES = -internalframes 
  else if("${arg}" == "-nointernalframes") then 
    set INTERNAL_FRAMES = -nointernalframes 
  else if("${arg}" == "-omp") then 
    set OMP_FLAG = -DOMP 
  else if("${arg}" == "-noomp") then 
    set OMP_FLAG = "" 
  else if(-d ${CFG_DIRS}/"${arg}") then 
    set TELESCOPE = ${arg} 
  else 
    echo Telescope configuration directory ${arg} not found in ${CFG_DIRS} 
    printf "${USAGE}" 
    exit 
  endif 
end 
 
if("${TELESCOPE}" == "") then 
  printf "${USAGE}" 
  exit 
endif 

echo Settings:

echo "  Telescope:       ${TELESCOPE}"

if("${OMP_FLAG}" == "-DOMP") then
  echo "  Database:        OMP/XML"
else if ("${OMP_FLAG}" == "") then
  echo "  Database:        RMI/SGML"
else
  printf "\nError: Variable OMP_FLAG has invalid value \042${OMP_FLAG}\042. Allowed values: \042-DOMP\042, \042\042.\n\n"
endif

if("${INTERNAL_FRAMES}" == "-internalframes") then
  echo "  Internal Frames: Yes"
else if("${INTERNAL_FRAMES}" == "-nointernalframes") then
  echo "  Internal Frames: No"
else
  printf "\nError: Variable INTERNAL_FRAMES has invalid value \042${INTERNAL_FRAMES}\042. Allowed values: \042-internalframes\042, \042-nointernalframes\042.\n\n"
endif

echo "Use ot -h for information on how to change these settings."


set CFG_TELESCOPE_DIR = ${CFG_DIRS}/${TELESCOPE} 
 
${JAVA} -ms5m -mx50m -oss5m ${OMP_FLAG} -DSERVER=${SERVER} -Dot.cfgdir=${CFG_TELESCOPE_DIR}/ -Dot.resource.cfgdir=./ -classpath ${CLASSPATH}:${CFG_TELESCOPE_DIR} jsky.app.ot.OT ${INTERNAL_FRAMES}

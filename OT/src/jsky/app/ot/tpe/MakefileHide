# Makefile
#
# Copyright 2000 Association for Universities for Research in Astronomy, Inc.,
# Observatory Control System, Gemini Telescopes Project.
#
# $Id$


# Source files to compile
SOURCES = \
	TelescopePosEditor.java \
	TelescopePosEditorToolBar.java \
	TpeCreateableFeature.java \
	TpeDraggableFeature.java \
	TpeEditorTools.java \
	TpeEraseableFeature.java \
	TpeFeatureClientData.java \
	TpeFeatureManager.java \
	TpeImageDisplayControl.java \
	TpeImageDisplayFrame.java \
	TpeImageDisplayMenuBar.java \
	TpeImageFeature.java \
	TpeImageWidget.java \
	TpeManager.java \
	TpeManagerWatcher.java \
	TpePositionMap.java \
	TpeSciArea.java \
	TpeSelectableFeature.java \
	TpeWatcher.java \


# Java package name
PACKAGE_DIR = jsky/app/ot/tpe

# Resources (images, other files) required at run time
RESOURCES = 

# Path to top level dir
TOP = ../../../..

# include master makefile
include $(TOP)/conf/master.mk

# image file to test with
IMAGE = ../../../image/gui/test/ngc1275.fits

# Astrores XML URL to test with
URL = http://archive.eso.org/ASTROM/src/xml/META.xml

# The astrores dir
ASTRORES = $(TOP)/jsky/catalog/astrores

# Skycat style config files
CONFIG1 = -Djsky.catalog.skycat.config=$(SKYCAT_CONFIG)
CONFIG1a = -Djsky.catalog.skycat.config=$(HOME)/.skycat/skycat.cfg
CONFIG1b = -Djsky.catalog.skycat.config=http://archive.eso.org/skycat/skycat2.0.cfg
CONFIG1c = -Djsky.catalog.skycat.config=c:/home/.skycat/skycat.cfg

# tests
test: all
	(cd ..; $(MAKE) test)

test1 TelescopePosEditor: all
	java $(JVMFLAGS) $(CONFIG1) jsky.app.ot.tpe.TelescopePosEditor $(IMAGE)

test1a: all
	java $(JVMFLAGS) $(CONFIG1a) jsky.app.ot.tpe.TelescopePosEditor $(IMAGE)

test1b: all
	java $(JVMFLAGS) $(CONFIG1a) jsky.app.ot.tpe.TelescopePosEditor -internalframes $(IMAGE)

#test1c: all
#	java $(JVMFLAGS) jsky.app.ot.tpe.TelescopePosEditor $(URL)

#test1d: all
#	java $(JVMFLAGS) jsky.app.ot.tpe.TelescopePosEditor $(ASTRORES)/test/META.xml

#test1e: all
#	java $(JVMFLAGS) jsky.app.ot.tpe.TelescopePosEditor $(ASTRORES)/test/wwwdp_serv2.xml

test1f: all
	java $(JVMFLAGS) $(CONFIG1a) jsky.app.ot.tpe.TelescopePosEditor $(IMAGE) -shownavigator 

test1g: all
	java $(JVMFLAGS) $(CONFIG1a) jsky.app.ot.tpe.TelescopePosEditor -internalframes $(IMAGE) -shownavigator

<?xml version="1.0" encoding="ISO-8859-1"?>
<SpLibrary type="lb" subtype="none">
  <meta_gui_collapsed>false</meta_gui_collapsed>
  <ot_version>2003-05-30</ot_version>
  <meta_gui_filename>Polarimetry-Template.xml</meta_gui_filename>
  <SpLibraryFolder type="lf" subtype="none">
    <meta_gui_collapsed>true</meta_gui_collapsed>
    <title>Polarimetry</title>
    <SpNote type="no" subtype="none">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <note>Five sequences are given below.  The first, "Pol jitter then angle" is the most efficient, since three images are obtained BEFORE the waveplate is moved.  This uses the recipe POL_JITTER.

The second sequence, "Pol angle then jitter", reverses the order in which the telescope and waveplate are moved.  This time images at the 4 waveplate positions are obtained BEFORE the telescope is jittered.  This involves more waveplate moves (and so is less efficient) though it does follow the "Golden Rule of Polarimetry" more closely.  This uses the recipe POL_ANGLE_JITTER.

The third sequence is used with extended sources (i.e. when blank sky cannot be extracted from the lower half of the array).  The telescope is nodded between object and sky.   8 frames, consisting of an obj-sky pair at each of the 4 waveplate positions makes one cycle.  Data from each cycle are combined by the recipe POL_EXTENDED.  

NOTE:  All recipes require that separate flat-field observations be acquired before they are run (use the "make_skyflat for Pol" sequences).  Two skyflat sequences are available;  the second obtains a separate flat at each of the four waveplate angles.  


A dark with the same integration time as the object frames is also needed; this is  included in the MSBs but needs to have its time defaulted in the usual way.

SITE QUALITY AND SCHEDULING CONSTRAINTS
------------------------------------------
These MSBs do not include site quality components; if
you need these on an MSB-by-MSB basis then please
add them from the component button once the MSBs are in your programme. If you have a global site quality requirement then this should be placed at the top of the programme and will apply to all the MSBs.

Scheduling constraints are also not included, since they
are unlikely to apply to more than a small minority of programmes.</note>
      <title>UFTI</title>
    </SpNote>
    <SpMSB remaining="1" type="og" subtype="msb">
      <library_version>$Revision$</library_version>
      <title>Pol jitter then angle (UFTI)</title>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <priority>99</priority>
      <estimatedDuration units="seconds">238.0</estimatedDuration>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This MSB is incomplete without a standard star in the selected waveband.
We incorporate a template standard sequence (which is made optional); simply
edit in your standard star ID, resolve the name and then alter UFTI settings.</note>
        <title>READ THIS</title>
      </SpNote>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <title>OBSERVER NOTES</title>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
      </SpNote>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">174.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>make_skyflat for Pol (UFTI)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This sequence obtains eight frames, two at each waveplate angle, that are median averaged to make a "master" flat field for use with all subsequent target pol observations.

N.B.  All current Polarimetry recipes require a separate flat field (and dark).</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Select a piece of blank sky near your target.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Enter blank sky coords.</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>00:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>10-11</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>1.635</value>
          </instAper>
          <polariser>prism</polariser>
          <meta_gui_selected>false</meta_gui_selected>
          <filter>H98</filter>
          <exposureTime>10</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Recipe requires at least two frames at each of the 4 waveplate
positions (0, 45, 22.5 and 67.5 degrees).  All frames should be at
different positions on blank sky.  All frames are median averaged,
regardless of the waveplate angle,  to make a "master-pol-flat".

N.B.: A Dark MUST be obtained first.  If you need separate flats for each waveplate position, select observation "make_skyflat for each WP angle" instead.</note>
          <title>Pol recipe</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <DarkInGroup>false</DarkInGroup>
          <ArcInGroup>false</ArcInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <ObjectRecipe>SKY_FLAT_POL</ObjectRecipe>
          <meta_gui_selected>false</meta_gui_selected>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_unique>true</meta_unique>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BiasInGroup>false</BiasInGroup>
          <FlatInGroup>false</FlatInGroup>
          <title>SKY_FLAT_POL</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>This is present to enable flat fields to be obtained for more than one filter.   It is set to one filter because the data-reduction recipe currently cannot handle multi-colour data.  The remainder of the note will apply once the recipe is made colour generic.

If you wish to observe at more than one wavelength, add filters
to the "UFTI" component below, changing exposure times as
required.</note>
            <title>Iterate through filters</title>
          </SpNote>
          <SpIterUFTI type="ic" subtype="instUFTI">
            <instAperLIter>1.635</instAperLIter>
            <coaddsIter>1</coaddsIter>
            <iterConfigList>
              <value>filterIter</value>
              <value>instAperLIter</value>
              <value>exposureTimeIter</value>
              <value>coaddsIter</value>
            </iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <meta_gui_selected>false</meta_gui_selected>
            <filterIter>H98</filterIter>
            <exposureTimeIter>10</exposureTimeIter>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Observe at 8 different positions on the sky.  Waveplate changed every 2 frames so that all 4 waveplate positions are sampled.

All eight frames median averaged to form flat field with 
SKY_FLAT_POL recipe.  N.B.: Darks required by recipe.</note>
              <title>2 positions x 4 WP positions.</title>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>0</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>45</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>22.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>67.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterUFTI>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Return waveplate to 0 degrees and the telescope offsets to 0,0.</note>
            <title>Back to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">238.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Standard star pol</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>true</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Polarimetry observations of a compact or point source.  The sequence obtains a number of jittered frames at each of the four waveplate angles (0, 45, 22.5, 67.5 degrees).

Note - this sequence is the "inverse" of the "Pol angle then jitter" sequence since the jitter frames are obtained BEFORE the waveplate is moved.

Use with POL_JITTER.  A separate flat must have been obtained, as well as a dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>BL</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>2.150</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>K98</filter>
          <exposureTime>10.0</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_JITTER expects an N-point jitter at each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees).   A typical usage would be to have three jitter positions giving twelve frames in all.   All offsets positions are observed before the waveplate is moved.

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_JITTER</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_JITTER</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpNote type="no" subtype="none">
                <title>E-W jitter at each WP position.</title>
                <meta_gui_selected>false</meta_gui_selected>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <note>The three E-W jitter positions (20-arcsecond steps) are repeated for each of the four waveplate positions.  The E-W jitter offsets can be changed in the "Offset iterator" below.</note>
              </SpNote>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>3pt E-W jitter</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-20.0</DC1>
                    <DC2>1.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>20.0</DC1>
                    <DC2>-1.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">238.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Pol jitter then angle (UFTI)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Polarimetry observations of a compact or point source.  The sequence obtains a number of jittered frames at each of the four waveplate angles (0, 45, 22.5, 67.5 degrees).

Note - this sequence is the "inverse" of the "Pol angle then jitter" sequence since the jitter frames are obtained BEFORE the waveplate is moved.

Use with POL_JITTER.  A separate flat must have been obtained, as well as a dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>BL</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>2.150</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>K98</filter>
          <exposureTime>10.0</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_JITTER expects an N-point jitter at each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees).   A typical usage would be to have three jitter positions giving twelve frames in all.   All offsets positions are observed before the waveplate is moved.

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_JITTER</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_JITTER</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpNote type="no" subtype="none">
                <title>E-W jitter at each WP position.</title>
                <meta_gui_selected>false</meta_gui_selected>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <note>The three E-W jitter positions (20-arcsecond steps) are repeated for each of the four waveplate positions.  The E-W jitter offsets can be changed in the "Offset iterator" below.</note>
              </SpNote>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>3pt E-W jitter</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-20.0</DC1>
                    <DC2>1.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>20.0</DC1>
                    <DC2>-1.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <library_version>$Revision$</library_version>
      <title>Pol angle then jitter (UFTI)</title>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <priority>99</priority>
      <estimatedDuration units="seconds">229.0</estimatedDuration>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This MSB is incomplete without a standard star in the selected waveband.
We incorporate a template standard sequence (which is made optional); simply
edit in your standard star ID, resolve the name and then alter UFTI settings.</note>
        <title>READ THIS</title>
      </SpNote>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <title>OBSERVER NOTES</title>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
      </SpNote>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">174.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>make_skyflat for Pol (UFTI)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This sequence obtains eight frames, two at each waveplate angle, that are median averaged to make a "master" flat field for use with all subsequent target pol observations.

N.B.  All current Polarimetry recipes require a separate flat field (and dark).</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Select a piece of blank sky near your target.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Enter blank sky coords.</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>00:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>10-11</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>1.635</value>
          </instAper>
          <polariser>prism</polariser>
          <meta_gui_selected>false</meta_gui_selected>
          <filter>H98</filter>
          <exposureTime>10</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Recipe requires at least two frames at each of the 4 waveplate
positions (0, 45, 22.5 and 67.5 degrees).  All frames should be at
different positions on blank sky.  All frames are median averaged,
regardless of the waveplate angle,  to make a "master-pol-flat".

N.B.: A Dark MUST be obtained first.  If you need separate flats for each waveplate position, select observation "make_skyflat for each WP angle" instead.</note>
          <title>Pol recipe</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <DarkInGroup>false</DarkInGroup>
          <ArcInGroup>false</ArcInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <ObjectRecipe>SKY_FLAT_POL</ObjectRecipe>
          <meta_gui_selected>false</meta_gui_selected>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_unique>true</meta_unique>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BiasInGroup>false</BiasInGroup>
          <FlatInGroup>false</FlatInGroup>
          <title>SKY_FLAT_POL</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>This is present to enable flat fields to be obtained for more than one filter.   It is set to one filter because the data-reduction recipe currently cannot handle multi-colour data.  The remainder of the note will apply once the recipe is made colour generic.

If you wish to observe at more than one wavelength, add filters
to the "UFTI" component below, changing exposure times as
required.</note>
            <title>Iterate through filters</title>
          </SpNote>
          <SpIterUFTI type="ic" subtype="instUFTI">
            <instAperLIter>1.635</instAperLIter>
            <coaddsIter>1</coaddsIter>
            <iterConfigList>
              <value>filterIter</value>
              <value>instAperLIter</value>
              <value>exposureTimeIter</value>
              <value>coaddsIter</value>
            </iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <meta_gui_selected>false</meta_gui_selected>
            <filterIter>H98</filterIter>
            <exposureTimeIter>10</exposureTimeIter>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Observe at 8 different positions on the sky.  Waveplate changed every 2 frames so that all 4 waveplate positions are sampled.

All eight frames median averaged to form flat field with 
SKY_FLAT_POL recipe.  N.B.: Darks required by recipe.</note>
              <title>2 positions x 4 WP positions.</title>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>0</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>45</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>22.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>67.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterUFTI>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Return waveplate to 0 degrees and the telescope offsets to 0,0.</note>
            <title>Back to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">229.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Standard star pol</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>true</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Polarimetry observations of a compact or point source.  The sequence obtains images at each of the four waveplate angles (0, 45, 22.5, 67.5 degrees) BEFORE the telescope is jittered.

Note - this sequence is less efficient than the "Pol jitter then angle" sequence, although it does obtain the necessary pol images more quickly (and thereby adheres more closely to the "Golden Rule of Polarimetry").

Use with POL_ANGLE_JITTER.  A separate flat must have been obtained, as well as a dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>BL</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>2.150</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>K98</filter>
          <exposureTime>10.0</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_ANGLE_JITTER expects a frame at each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees); these four frames are repeated at a number of East-West jitter positions. A typical usage would be to have three jitter positions giving twelve frames in all.   All four waveplate positions are observed before the telescope is moved.

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_ANGLE_JITTER</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_ANGLE_JITTER</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpNote type="no" subtype="none">
              <title>Jitter AFTER 4 WP positions</title>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Jitter telescope positions three times after each set of four waveplate-offset frames are acquired.  Offsets are 20-arcsecond steps E-W.  There is also a 1-arcsecond N-S offset to sample different rows.</note>
            </SpNote>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <title>3pt E-W jitter</title>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-20.0</DC1>
                  <DC2>1.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>20.0</DC1>
                  <DC2>-1.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterIRPOL type="ic" subtype="instIRPOL">
                <IRPOLIter>
                  <value>0</value>
                  <value>45</value>
                  <value>22.5</value>
                  <value>67.5</value>
                </IRPOLIter>
                <iterConfigList>IRPOLIter</iterConfigList>
                <meta_gui_selected>false</meta_gui_selected>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterIRPOL>
            </SpIterOffset>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">229.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Pol angle then jitter (UFTI)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Polarimetry observations of a compact or point source.  The sequence obtains images at each of the four waveplate angles (0, 45, 22.5, 67.5 degrees) BEFORE the telescope is jittered.

Note - this sequence is less efficient than the "Pol jitter then angle" sequence, although it does obtain the necessary pol images more quickly (and thereby adheres more closely to the "Golden Rule of Polarimetry").

Use with POL_ANGLE_JITTER.  A separate flat must have been obtained, as well as a dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>BL</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>2.150</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>K98</filter>
          <exposureTime>10.0</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_ANGLE_JITTER expects a frame at each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees); these four frames are repeated at a number of East-West jitter positions. A typical usage would be to have three jitter positions giving twelve frames in all.   All four waveplate positions are observed before the telescope is moved.

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_ANGLE_JITTER</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_ANGLE_JITTER</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpNote type="no" subtype="none">
              <title>Jitter AFTER 4 WP positions</title>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Jitter telescope positions three times after each set of four waveplate-offset frames are acquired.  Offsets are 20-arcsecond steps E-W.  There is also a 1-arcsecond N-S offset to sample different rows.</note>
            </SpNote>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <title>3pt E-W jitter</title>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-20.0</DC1>
                  <DC2>1.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>20.0</DC1>
                  <DC2>-1.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterIRPOL type="ic" subtype="instIRPOL">
                <IRPOLIter>
                  <value>0</value>
                  <value>45</value>
                  <value>22.5</value>
                  <value>67.5</value>
                </IRPOLIter>
                <iterConfigList>IRPOLIter</iterConfigList>
                <meta_gui_selected>false</meta_gui_selected>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterIRPOL>
            </SpIterOffset>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <library_version>$Revision$</library_version>
      <title>Pol extended (UFTI)</title>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <priority>99</priority>
      <estimatedDuration units="seconds">430.0</estimatedDuration>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This MSB is incomplete without a standard star in the selected waveband.
We incorporate a template standard sequence (which is made optional); simply
edit in your standard star ID, resolve the name and then alter UFTI settings.</note>
        <title>READ THIS</title>
      </SpNote>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <title>OBSERVER NOTES</title>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
      </SpNote>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">174.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>make_skyflat for Pol (UFTI)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This sequence obtains eight frames, two at each waveplate angle, that are median averaged to make a "master" flat field for use with all subsequent target pol observations.

N.B.  All current Polarimetry recipes require a separate flat field (and dark).</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Select a piece of blank sky near your target.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Enter blank sky coords.</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>00:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>10-11</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>1.635</value>
          </instAper>
          <polariser>prism</polariser>
          <meta_gui_selected>false</meta_gui_selected>
          <filter>H98</filter>
          <exposureTime>10</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Recipe requires at least two frames at each of the 4 waveplate
positions (0, 45, 22.5 and 67.5 degrees).  All frames should be at
different positions on blank sky.  All frames are median averaged,
regardless of the waveplate angle,  to make a "master-pol-flat".

N.B.: A Dark MUST be obtained first.  If you need separate flats for each waveplate position, select observation "make_skyflat for each WP angle" instead.</note>
          <title>Pol recipe</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <DarkInGroup>false</DarkInGroup>
          <ArcInGroup>false</ArcInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <ObjectRecipe>SKY_FLAT_POL</ObjectRecipe>
          <meta_gui_selected>false</meta_gui_selected>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_unique>true</meta_unique>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BiasInGroup>false</BiasInGroup>
          <FlatInGroup>false</FlatInGroup>
          <title>SKY_FLAT_POL</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>This is present to enable flat fields to be obtained for more than one filter.   It is set to one filter because the data-reduction recipe currently cannot handle multi-colour data.  The remainder of the note will apply once the recipe is made colour generic.

If you wish to observe at more than one wavelength, add filters
to the "UFTI" component below, changing exposure times as
required.</note>
            <title>Iterate through filters</title>
          </SpNote>
          <SpIterUFTI type="ic" subtype="instUFTI">
            <instAperLIter>1.635</instAperLIter>
            <coaddsIter>1</coaddsIter>
            <iterConfigList>
              <value>filterIter</value>
              <value>instAperLIter</value>
              <value>exposureTimeIter</value>
              <value>coaddsIter</value>
            </iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <meta_gui_selected>false</meta_gui_selected>
            <filterIter>H98</filterIter>
            <exposureTimeIter>10</exposureTimeIter>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Observe at 8 different positions on the sky.  Waveplate changed every 2 frames so that all 4 waveplate positions are sampled.

All eight frames median averaged to form flat field with 
SKY_FLAT_POL recipe.  N.B.: Darks required by recipe.</note>
              <title>2 positions x 4 WP positions.</title>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>0</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>45</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>22.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>67.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterUFTI>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Return waveplate to 0 degrees and the telescope offsets to 0,0.</note>
            <title>Back to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">238.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Standard star pol</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>true</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Polarimetry observations of a compact or point source.  The sequence obtains a number of jittered frames at each of the four waveplate angles (0, 45, 22.5, 67.5 degrees).

Note - this sequence is the "inverse" of the "Pol angle then jitter" sequence since the jitter frames are obtained BEFORE the waveplate is moved.

Use with POL_JITTER.  A separate flat must have been obtained, as well as a dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>BL</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>2.150</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>K98</filter>
          <exposureTime>10.0</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_JITTER expects an N-point jitter at each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees).   A typical usage would be to have three jitter positions giving twelve frames in all.   All offsets positions are observed before the waveplate is moved.

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_JITTER</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_JITTER</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpNote type="no" subtype="none">
                <title>E-W jitter at each WP position.</title>
                <meta_gui_selected>false</meta_gui_selected>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <note>The three E-W jitter positions (20-arcsecond steps) are repeated for each of the four waveplate positions.  The E-W jitter offsets can be changed in the "Offset iterator" below.</note>
              </SpNote>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>3pt E-W jitter</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-20.0</DC1>
                    <DC2>1.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>20.0</DC1>
                    <DC2>-1.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">430.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Pol extended (UFTI)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>For Pol imaging of an extended object that overlaps into the lower half of the UFTI array (i.e. is more than 30-40 arcsec in size).  When this is the case, the lower e- and o-beam regions of each image cannot be used for blank sky brightness estimates; thus, separate blank sky frames must be acquired.

The sequence nods between object and blank sky at each of the four waveplate angles (0, 45, 22.5 and 67.5 degrees).

N.B. A separate flat-field must have been obtained, as well as a Dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>BL</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>2.150</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>K98</filter>
          <exposureTime>10.0</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_EXTENDED expects to receive eight frames for at least three jitter positions.  The eight comprise pairs of object and sky exposures at each of the four waveplate positions.  After each block of eight images the telescope is slightly jittered on the extended source to correct for bad pixels, etc. 

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_EXTENDED</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_EXTENDED</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpNote type="no" subtype="none">
              <title>Obj-Sky pair at each WP position.</title>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Nod between object and blank sky for each of the four waveplate positions.  Repeat this sequence at three slightly jittered positions.</note>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selected>false</meta_gui_selected>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 1</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>100.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 2</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>1.0</DC1>
                    <DC2>-1.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>90.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 3</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-1.0</DC1>
                    <DC2>1.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>95.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <library_version>$Revision$</library_version>
      <title>Pol extended 3x3 (UFTI)</title>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <priority>99</priority>
      <estimatedDuration units="seconds">1198.0</estimatedDuration>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This MSB is incomplete without a standard star in the selected waveband.
We incorporate a template standard sequence (which is made optional); simply
edit in your standard star ID, resolve the name and then alter UFTI settings.</note>
        <title>READ THIS</title>
      </SpNote>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <title>OBSERVER NOTES</title>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
      </SpNote>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">174.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>make_skyflat for Pol (UFTI)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This sequence obtains eight frames, two at each waveplate angle, that are median averaged to make a "master" flat field for use with all subsequent target pol observations.

N.B.  All current Polarimetry recipes require a separate flat field (and dark).</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Select a piece of blank sky near your target.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Enter blank sky coords.</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>00:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>10-11</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>1.635</value>
          </instAper>
          <polariser>prism</polariser>
          <meta_gui_selected>false</meta_gui_selected>
          <filter>H98</filter>
          <exposureTime>10</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Recipe requires at least two frames at each of the 4 waveplate
positions (0, 45, 22.5 and 67.5 degrees).  All frames should be at
different positions on blank sky.  All frames are median averaged,
regardless of the waveplate angle,  to make a "master-pol-flat".

N.B.: A Dark MUST be obtained first.  If you need separate flats for each waveplate position, select observation "make_skyflat for each WP angle" instead.</note>
          <title>Pol recipe</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <DarkInGroup>false</DarkInGroup>
          <ArcInGroup>false</ArcInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <ObjectRecipe>SKY_FLAT_POL</ObjectRecipe>
          <meta_gui_selected>false</meta_gui_selected>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_unique>true</meta_unique>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BiasInGroup>false</BiasInGroup>
          <FlatInGroup>false</FlatInGroup>
          <title>SKY_FLAT_POL</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>This is present to enable flat fields to be obtained for more than one filter.   It is set to one filter because the data-reduction recipe currently cannot handle multi-colour data.  The remainder of the note will apply once the recipe is made colour generic.

If you wish to observe at more than one wavelength, add filters
to the "UFTI" component below, changing exposure times as
required.</note>
            <title>Iterate through filters</title>
          </SpNote>
          <SpIterUFTI type="ic" subtype="instUFTI">
            <instAperLIter>1.635</instAperLIter>
            <coaddsIter>1</coaddsIter>
            <iterConfigList>
              <value>filterIter</value>
              <value>instAperLIter</value>
              <value>exposureTimeIter</value>
              <value>coaddsIter</value>
            </iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <meta_gui_selected>false</meta_gui_selected>
            <filterIter>H98</filterIter>
            <exposureTimeIter>10</exposureTimeIter>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Observe at 8 different positions on the sky.  Waveplate changed every 2 frames so that all 4 waveplate positions are sampled.

All eight frames median averaged to form flat field with 
SKY_FLAT_POL recipe.  N.B.: Darks required by recipe.</note>
              <title>2 positions x 4 WP positions.</title>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>0</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>45</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>22.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>67.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterUFTI>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Return waveplate to 0 degrees and the telescope offsets to 0,0.</note>
            <title>Back to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">238.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Standard star pol</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>true</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Polarimetry observations of a compact or point source.  The sequence obtains a number of jittered frames at each of the four waveplate angles (0, 45, 22.5, 67.5 degrees).

Note - this sequence is the "inverse" of the "Pol angle then jitter" sequence since the jitter frames are obtained BEFORE the waveplate is moved.

Use with POL_JITTER.  A separate flat must have been obtained, as well as a dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>BL</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>2.150</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>K98</filter>
          <exposureTime>10.0</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_JITTER expects an N-point jitter at each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees).   A typical usage would be to have three jitter positions giving twelve frames in all.   All offsets positions are observed before the waveplate is moved.

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_JITTER</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_JITTER</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpNote type="no" subtype="none">
                <title>E-W jitter at each WP position.</title>
                <meta_gui_selected>false</meta_gui_selected>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <note>The three E-W jitter positions (20-arcsecond steps) are repeated for each of the four waveplate positions.  The E-W jitter offsets can be changed in the "Offset iterator" below.</note>
              </SpNote>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>3pt E-W jitter</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-20.0</DC1>
                    <DC2>1.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>20.0</DC1>
                    <DC2>-1.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">1198.0</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Pol extended 3x3 (UFTI)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>For Pol imaging of an extended object that overlaps into the lower half of the UFTI array (i.e. is more than 30-40 arcsec in size).  When this is the case, the lower e- and o-beam regions of each image cannot be used for blank sky brightness estimates; thus, separate blank sky frames must be acquired.

The sequence maps a 3x3 frame target region area with 50 per cent overlap, and nods between object and blank sky at each of the four waveplate angles (0, 45, 22.5 and 67.5 degrees).

N.B. A separate flat-field must have been obtained, as well as a Dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstUFTI type="oc" subtype="inst.UFTI">
          <posAngle>0.0</posAngle>
          <instPort>West</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>1024x1024</readoutArea>
          <coadds>1</coadds>
          <sourceMag>BL</sourceMag>
          <instAper>
            <value>0.00</value>
            <value>18.73</value>
            <value>0.0</value>
            <value>2.150</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>K98</filter>
          <exposureTime>10.0</exposureTime>
          <title>- set configuration</title>
          <meta_unique>true</meta_unique>
          <acqMode>Normal+NDSTARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_EXTENDED expects to receive eight frames for at least three jitter positions.  The eight comprise pairs of object and sky exposures at each of the four waveplate positions.  After each block of eight images the telescope is slightly jittered on the extended source to correct for bad pixels, etc. 

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_EXTENDED</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_EXTENDED</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpNote type="no" subtype="none">
              <title>Obj-Sky pair at each WP position.</title>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Nod between object and blank sky for each of the four waveplate positions.  Repeat this sequence at three slightly jittered positions.

This set is akin to the 3x3 extended observation with 50% overlaps on the target and a jitter on a sky region.</note>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selected>false</meta_gui_selected>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 1</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-155.0</DC1>
                    <DC2>155.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 2</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-46.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-154.0</DC1>
                    <DC2>145.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 3</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>46.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-145.0</DC1>
                    <DC2>144.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 4</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>1.0</DC1>
                    <DC2>46.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-144.0</DC1>
                    <DC2>154.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 5</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>46.0</DC1>
                    <DC2>46.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>150.0</DC1>
                    <DC2>-150.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 6</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-46.0</DC1>
                    <DC2>46.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>155.0</DC1>
                    <DC2>-145.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 7</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-46.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>145.0</DC1>
                    <DC2>-144.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 8</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-46.0</DC1>
                    <DC2>-46.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>144.0</DC1>
                    <DC2>-155.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-Sky nod 9</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>46.0</DC1>
                    <DC2>-46.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>154.0</DC1>
                    <DC2>155.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpNote type="no" subtype="none">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <note>Five sequences are given below for each camera.  The first, "Pol jitter then angle" is the most efficient, since three images are obtained BEFORE the waveplate is moved.  This uses the recipe POL_JITTER.

The second sequence, "Pol angle then jitter", reverses the order in which the telescope and waveplate are moved.  This time images at the 4 waveplate positions are obtained BEFORE the telescope is jittered.  This involves more waveplate moves (and so is less efficient) though it does follow the "Golden Rule of Polarimetry" more closely.  This uses the recipe POL_ANGLE_JITTER.

The third sequence is used with extended sources (i.e. when blank sky cannot be extracted from the lower half of the array).  The telescope is nodded between object and sky.   8 frames, consisting of an obj-sky pair at each of the 4 waveplate positions makes one cycle.  Data from each cycle are combined by the recipe POL_EXTENDED.  

NOTE:  All recipes require that separate flat-field observations be acquired before they are run (use the "make_skyflat for Pol" sequences).  Two skyflat sequences are available;  the second obtains a separate flat at each of the four waveplate angles.  A dark with the same integration time as the object frames is also needed.

SITE QUALITY AND SCHEDULING CONSTRAINTS
------------------------------------------
These MSBs do not include site quality components; if
you need these on an MSB-by-MSB basis then please
add them from the component button once the MSBs are in your programme. If you have a global site quality requirement then this should be placed at the top of the programme and will apply to all the MSBs.

Scheduling constraints are also not included, since they
are unlikely to apply to more than a small minority of programmes.</note>
      <title>IRCAM</title>
    </SpNote>
    <SpMSB remaining="1" type="og" subtype="msb">
      <library_version>$Revision$</library_version>
      <title>Pol jitter then angle (IRCAM3)</title>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <priority>99</priority>
      <estimatedDuration units="seconds">119.43999999999993</estimatedDuration>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This MSB is incomplete without a standard star in the selected waveband.
We incorporate a template standard sequence (which is made optional); simply
edit in your standard star ID, resolve the name and then alter IRCAM settings.</note>
        <title>READ THIS</title>
      </SpNote>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <title>OBSERVER NOTES</title>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
      </SpNote>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">87.23999999999998</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>make_skyflat for Pol (IRCAM3)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This sequence obtains eight frames, two at each waveplate angle, that are median averaged to make a "master" flat field for use with all subsequent target pol observations.

N.B.  All current Polarimetry recipes require a separate flat field (and dark).</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Select a piece of blank sky near your target.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Enter blank sky coords.</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>00:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the IRCAM3 component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstIRCAM3 type="oc" subtype="inst.IRCAM3">
          <instPort>East</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>256x256</readoutArea>
          <coadds>1</coadds>
          <sourceMag>none</sourceMag>
          <instAper>
            <value>5.21</value>
            <value>13.19</value>
            <value>0.0</value>
            <value>1.0</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>Lp98</filter>
          <exposureTime>0.12</exposureTime>
          <meta_unique>true</meta_unique>
          <acqMode>Deepwell+STARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstIRCAM3>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Recipe requires at least two frames at each of the 4 waveplate positions (0, 45, 22.5 and 67.5 degrees).  All frames should be at different positions on blank sky.  All frames are median averaged, regardless of the waveplate angle,  to make a "master-pol-flat".

N.B.: A Dark MUST be obtained first.  If you need separate flats for each waveplate position, select observation "make_skyflat for each WP angle" instead.</note>
          <title>Pol recipe</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <DarkInGroup>false</DarkInGroup>
          <ArcInGroup>false</ArcInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <ObjectRecipe>SKY_FLAT_POL</ObjectRecipe>
          <meta_gui_selected>false</meta_gui_selected>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_unique>true</meta_unique>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BiasInGroup>false</BiasInGroup>
          <FlatInGroup>false</FlatInGroup>
          <title>SKY_FLAT_POL</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>10</coadds>
            <exposureTime>0.12</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>This is present to enable flat fields to be obtained for more than one filter.   It is set to one filter because the data-reduction recipe currently cannot handle multi-colour data.  The remainder of the note will apply once the recipe is made colour generic.

If you wish to observe at more than one wavelength, add filters to the "IRCAM3" component below, changing exposure times as required.</note>
            <title>Iterate through filters</title>
          </SpNote>
          <SpIterIRCAM3 type="ic" subtype="instIRCAM3">
            <instAperLIter>3.6</instAperLIter>
            <iterConfigList>
              <value>instAperLIter</value>
              <value>filterIter</value>
            </iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <filterIter>Lp98</filterIter>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Observe at 8 different positions on the sky.  Waveplate hanged every 2 frames so that all 4 waveplate positions are sampled.

All eight frames median averaged to form flat field with 
SKY_FLAT_POL recipe.  N.B.: Darks required by recipe.</note>
              <title>2 positions x 4 WP positions.</title>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>0</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>45</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>22.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>67.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-30.0</DC1>
                    <DC2>-30.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>30.0</DC1>
                    <DC2>30.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterIRCAM3>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Return waveplate to 0 degrees and
the telescope to slide 0 0</note>
            <title>Back to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">119.43999999999993</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Standard pol</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>true</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Polarimetry observations of a compact or point source.  The sequence obtains a number of jittered frames at each of the four waveplate angles (0, 45, 22.5, 67.5 degrees).

Note - this sequence is the "inverse" of the "Pol angle then jitter" sequence since the jitter frames are obtained BEFORE the waveplate is moved.

Use with POL_JITTER.  A separate flat must have been obtained, as well as a dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the IRCAM3 component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstIRCAM3 type="oc" subtype="inst.IRCAM3">
          <instPort>East</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>256x256</readoutArea>
          <coadds>1</coadds>
          <sourceMag>none</sourceMag>
          <instAper>
            <value>5.21</value>
            <value>13.19</value>
            <value>0.0</value>
            <value>1.0</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>Lp98</filter>
          <exposureTime>0.12</exposureTime>
          <meta_unique>true</meta_unique>
          <acqMode>Deepwell+STARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstIRCAM3>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_JITTER expects an N-point jitter at each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees).   A typical usage would be to have three jitter positions giving twelve frames in all.   All offsets positions are observed before the waveplate is moved.

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_JITTER</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_JITTER</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpNote type="no" subtype="none">
                <title>E-W jitter at each WP position.</title>
                <meta_gui_selected>false</meta_gui_selected>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <note>The three E-W jitter positions (20-arcsecond steps) are repeated for each of the four waveplate positions.  The E-W jitter offsets can be changed in the "Offset iterator" below.</note>
              </SpNote>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>7.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-7.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">119.43999999999993</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Pol jitter then angle (IRCAM3)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Polarimetry observations of a compact or point source.  The sequence obtains a number of jittered frames at each of the four waveplate angles (0, 45, 22.5, 67.5 degrees).

Note - this sequence is the "inverse" of the "Pol angle then jitter" sequence since the jitter frames are obtained BEFORE the waveplate is moved.

Use with POL_JITTER.  A separate flat must have been obtained, as well as a dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the IRCAM3 component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstIRCAM3 type="oc" subtype="inst.IRCAM3">
          <instPort>East</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>256x256</readoutArea>
          <coadds>1</coadds>
          <sourceMag>none</sourceMag>
          <instAper>
            <value>5.21</value>
            <value>13.19</value>
            <value>0.0</value>
            <value>1.0</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>Lp98</filter>
          <exposureTime>0.12</exposureTime>
          <meta_unique>true</meta_unique>
          <acqMode>Deepwell+STARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstIRCAM3>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_JITTER expects an N-point jitter at each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees).   A typical usage would be to have three jitter positions giving twelve frames in all.   All offsets positions are observed before the waveplate is moved.

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_JITTER</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_JITTER</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpNote type="no" subtype="none">
                <title>E-W jitter at each WP position.</title>
                <meta_gui_selected>false</meta_gui_selected>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <note>The three E-W jitter positions (20-arcsecond steps) are repeated for each of the four waveplate positions.  The E-W jitter offsets can be changed in the "Offset iterator" below.</note>
              </SpNote>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>7.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-7.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <library_version>$Revision$</library_version>
      <title>Pol angle then jitter (IRCAM3)</title>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <priority>99</priority>
      <estimatedDuration units="seconds">75.52</estimatedDuration>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This MSB is incomplete without a standard star in the selected waveband.
We incorporate a template standard sequence (which is made optional); simply
edit in your standard star ID, resolve the name and then alter IRCAM settings.</note>
        <title>READ THIS</title>
      </SpNote>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <title>OBSERVER NOTES</title>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
      </SpNote>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">87.23999999999998</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>make_skyflat for Pol (IRCAM3)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This sequence obtains eight frames, two at each waveplate angle, that are median averaged to make a "master" flat field for use with all subsequent target pol observations.

N.B.  All current Polarimetry recipes require a separate flat field (and dark).</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Select a piece of blank sky near your target.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Enter blank sky coords.</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>00:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the IRCAM3 component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstIRCAM3 type="oc" subtype="inst.IRCAM3">
          <instPort>East</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>256x256</readoutArea>
          <coadds>1</coadds>
          <sourceMag>none</sourceMag>
          <instAper>
            <value>5.21</value>
            <value>13.19</value>
            <value>0.0</value>
            <value>1.0</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>Lp98</filter>
          <exposureTime>0.12</exposureTime>
          <meta_unique>true</meta_unique>
          <acqMode>Deepwell+STARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstIRCAM3>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Recipe requires at least two frames at each of the 4 waveplate positions (0, 45, 22.5 and 67.5 degrees).  All frames should be at different positions on blank sky.  All frames are median averaged, regardless of the waveplate angle,  to make a "master-pol-flat".

N.B.: A Dark MUST be obtained first.  If you need separate flats for each waveplate position, select observation "make_skyflat for each WP angle" instead.</note>
          <title>Pol recipe</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <DarkInGroup>false</DarkInGroup>
          <ArcInGroup>false</ArcInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <ObjectRecipe>SKY_FLAT_POL</ObjectRecipe>
          <meta_gui_selected>false</meta_gui_selected>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_unique>true</meta_unique>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BiasInGroup>false</BiasInGroup>
          <FlatInGroup>false</FlatInGroup>
          <title>SKY_FLAT_POL</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>10</coadds>
            <exposureTime>0.12</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>This is present to enable flat fields to be obtained for more than one filter.   It is set to one filter because the data-reduction recipe currently cannot handle multi-colour data.  The remainder of the note will apply once the recipe is made colour generic.

If you wish to observe at more than one wavelength, add filters to the "IRCAM3" component below, changing exposure times as required.</note>
            <title>Iterate through filters</title>
          </SpNote>
          <SpIterIRCAM3 type="ic" subtype="instIRCAM3">
            <instAperLIter>3.6</instAperLIter>
            <iterConfigList>
              <value>instAperLIter</value>
              <value>filterIter</value>
            </iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <filterIter>Lp98</filterIter>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Observe at 8 different positions on the sky.  Waveplate hanged every 2 frames so that all 4 waveplate positions are sampled.

All eight frames median averaged to form flat field with 
SKY_FLAT_POL recipe.  N.B.: Darks required by recipe.</note>
              <title>2 positions x 4 WP positions.</title>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>0</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>45</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>22.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>67.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-30.0</DC1>
                    <DC2>-30.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>30.0</DC1>
                    <DC2>30.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterIRCAM3>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Return waveplate to 0 degrees and
the telescope to slide 0 0</note>
            <title>Back to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">75.52</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Standard pol</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>true</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Polarimetry observations of a compact or point source.  The sequence obtains images at each of the four waveplate angles (0, 45, 22.5, 67.5 degrees) BEFORE the telescope is jittered..

Note - this sequence is less efficient than the "Pol jitter then angle" sequence, although it does obtain the necessary pol images more quickly (and thereby adheres more closely to the "Golden Rule of Polarimetry").

Use with POL_ANGLE_JITTER.  A separate flat must have been obtained, as well as a dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the IRCAM3 component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstIRCAM3 type="oc" subtype="inst.IRCAM3">
          <instPort>East</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>256x256</readoutArea>
          <coadds>1</coadds>
          <sourceMag>none</sourceMag>
          <instAper>
            <value>5.21</value>
            <value>13.19</value>
            <value>0.0</value>
            <value>1.0</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>Lp98</filter>
          <exposureTime>0.12</exposureTime>
          <meta_unique>true</meta_unique>
          <acqMode>Deepwell+STARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstIRCAM3>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_ANGLE_JITTER expects a frame at each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees); these four frames are repeated at a number of East-West jitter positions. A typical usage would be to have three jitter positions giving twelve frames in all.   All four waveplate positions are observed before the telescope is moved.

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_ANGLE_JITTER</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_ANGLE_JITTER</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpNote type="no" subtype="none">
              <title>Jitter AFTER 4 WP positions</title>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Jitter telescope positions three times after each set of four waveplate-offset frames are acquired.  Offsets are 7-arcsecond steps E-W.  There is also a 1-arcsecond N-S offset to sample different rows.</note>
            </SpNote>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>7.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-7.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterIRPOL type="ic" subtype="instIRPOL">
                <iterConfigList>IRPOLIter</iterConfigList>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <IRPOLIter>
                  <value>0</value>
                  <value>45</value>
                  <value>22.5</value>
                  <value>67.5</value>
                </IRPOLIter>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterIRPOL>
            </SpIterOffset>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">75.52</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Pol angle then jitter (IRCAM3)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Polarimetry observations of a compact or point source.  The sequence obtains images at each of the four waveplate angles (0, 45, 22.5, 67.5 degrees) BEFORE the telescope is jittered..

Note - this sequence is less efficient than the "Pol jitter then angle" sequence, although it does obtain the necessary pol images more quickly (and thereby adheres more closely to the "Golden Rule of Polarimetry").

Use with POL_ANGLE_JITTER.  A separate flat must have been obtained, as well as a dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the IRCAM3 component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstIRCAM3 type="oc" subtype="inst.IRCAM3">
          <instPort>East</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>256x256</readoutArea>
          <coadds>1</coadds>
          <sourceMag>none</sourceMag>
          <instAper>
            <value>5.21</value>
            <value>13.19</value>
            <value>0.0</value>
            <value>1.0</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>Lp98</filter>
          <exposureTime>0.12</exposureTime>
          <meta_unique>true</meta_unique>
          <acqMode>Deepwell+STARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstIRCAM3>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_ANGLE_JITTER expects a frame at each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees); these four frames are repeated at a number of East-West jitter positions. A typical usage would be to have three jitter positions giving twelve frames in all.   All four waveplate positions are observed before the telescope is moved.

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_ANGLE_JITTER</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_ANGLE_JITTER</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpNote type="no" subtype="none">
              <title>Jitter AFTER 4 WP positions</title>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Jitter telescope positions three times after each set of four waveplate-offset frames are acquired.  Offsets are 7-arcsecond steps E-W.  There is also a 1-arcsecond N-S offset to sample different rows.</note>
            </SpNote>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>7.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-7.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterIRPOL type="ic" subtype="instIRPOL">
                <iterConfigList>IRPOLIter</iterConfigList>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <IRPOLIter>
                  <value>0</value>
                  <value>45</value>
                  <value>22.5</value>
                  <value>67.5</value>
                </IRPOLIter>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterIRPOL>
            </SpIterOffset>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <library_version>$Revision$</library_version>
      <title>Pol extended (IRCAM3)</title>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <priority>99</priority>
      <estimatedDuration units="seconds">185.15999999999997</estimatedDuration>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This MSB is incomplete without a standard star in the selected waveband.
We incorporate a template standard sequence (which is made optional); simply
edit in your standard star ID, resolve the name and then alter IRCAM settings.</note>
        <title>READ THIS</title>
      </SpNote>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <title>OBSERVER NOTES</title>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
      </SpNote>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">87.23999999999998</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>make_skyflat for Pol (IRCAM3)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This sequence obtains eight frames, two at each waveplate angle, that are median averaged to make a "master" flat field for use with all subsequent target pol observations.

N.B.  All current Polarimetry recipes require a separate flat field (and dark).</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Select a piece of blank sky near your target.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Enter blank sky coords.</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>00:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the IRCAM3 component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstIRCAM3 type="oc" subtype="inst.IRCAM3">
          <instPort>East</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>256x256</readoutArea>
          <coadds>1</coadds>
          <sourceMag>none</sourceMag>
          <instAper>
            <value>5.21</value>
            <value>13.19</value>
            <value>0.0</value>
            <value>1.0</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>Lp98</filter>
          <exposureTime>0.12</exposureTime>
          <meta_unique>true</meta_unique>
          <acqMode>Deepwell+STARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstIRCAM3>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Recipe requires at least two frames at each of the 4 waveplate positions (0, 45, 22.5 and 67.5 degrees).  All frames should be at different positions on blank sky.  All frames are median averaged, regardless of the waveplate angle,  to make a "master-pol-flat".

N.B.: A Dark MUST be obtained first.  If you need separate flats for each waveplate position, select observation "make_skyflat for each WP angle" instead.</note>
          <title>Pol recipe</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <DarkInGroup>false</DarkInGroup>
          <ArcInGroup>false</ArcInGroup>
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <ObjectRecipe>SKY_FLAT_POL</ObjectRecipe>
          <meta_gui_selected>false</meta_gui_selected>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_unique>true</meta_unique>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BiasInGroup>false</BiasInGroup>
          <FlatInGroup>false</FlatInGroup>
          <title>SKY_FLAT_POL</title>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_selected>false</meta_gui_selected>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>10</coadds>
            <exposureTime>0.12</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>This is present to enable flat fields to be obtained for more than one filter.   It is set to one filter because the data-reduction recipe currently cannot handle multi-colour data.  The remainder of the note will apply once the recipe is made colour generic.

If you wish to observe at more than one wavelength, add filters to the "IRCAM3" component below, changing exposure times as required.</note>
            <title>Iterate through filters</title>
          </SpNote>
          <SpIterIRCAM3 type="ic" subtype="instIRCAM3">
            <instAperLIter>3.6</instAperLIter>
            <iterConfigList>
              <value>instAperLIter</value>
              <value>filterIter</value>
            </iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <filterIter>Lp98</filterIter>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Observe at 8 different positions on the sky.  Waveplate hanged every 2 frames so that all 4 waveplate positions are sampled.

All eight frames median averaged to form flat field with 
SKY_FLAT_POL recipe.  N.B.: Darks required by recipe.</note>
              <title>2 positions x 4 WP positions.</title>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>0</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>45</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-60.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>22.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>-60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>67.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-30.0</DC1>
                    <DC2>-30.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>30.0</DC1>
                    <DC2>30.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterIRCAM3>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Return waveplate to 0 degrees and
the telescope to slide 0 0</note>
            <title>Back to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">119.43999999999993</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Standard pol</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>true</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Polarimetry observations of a compact or point source.  The sequence obtains a number of jittered frames at each of the four waveplate angles (0, 45, 22.5, 67.5 degrees).

Note - this sequence is the "inverse" of the "Pol angle then jitter" sequence since the jitter frames are obtained BEFORE the waveplate is moved.

Use with POL_JITTER.  A separate flat must have been obtained, as well as a dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the IRCAM3 component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstIRCAM3 type="oc" subtype="inst.IRCAM3">
          <instPort>East</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>256x256</readoutArea>
          <coadds>1</coadds>
          <sourceMag>none</sourceMag>
          <instAper>
            <value>5.21</value>
            <value>13.19</value>
            <value>0.0</value>
            <value>1.0</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>Lp98</filter>
          <exposureTime>0.12</exposureTime>
          <meta_unique>true</meta_unique>
          <acqMode>Deepwell+STARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstIRCAM3>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_JITTER expects an N-point jitter at each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees).   A typical usage would be to have three jitter positions giving twelve frames in all.   All offsets positions are observed before the waveplate is moved.

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_JITTER</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_JITTER</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>1</coadds>
            <exposureTime>10.0</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpNote type="no" subtype="none">
                <title>E-W jitter at each WP position.</title>
                <meta_gui_selected>false</meta_gui_selected>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <note>The three E-W jitter positions (20-arcsecond steps) are repeated for each of the four waveplate positions.  The E-W jitter offsets can be changed in the "Offset iterator" below.</note>
              </SpNote>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>7.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-7.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">185.15999999999997</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Pol extended (IRCAM3)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>For Pol imaging of an extended object that overlaps into the lower half of the IRCAM array (i.e. is more than 7-10 arcsec in size).  When this is the case, the lower e- and o-beam regions of each image cannot be used for blank sky brightness estimates; thus, separate blank sky frames must be acquired.

The sequence nods between object and blank sky at each of the four waveplate angles (0, 45, 22.5 and 67.5 degrees).

N.B. A separate flat-field must have been obtained, as well as a Dark.</note>
          <title>Usage</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it really only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Remember to select the prism in the polariser box in the IRCAM3 component below!</note>
          <title>Filter AND Prism</title>
        </SpNote>
        <SpInstIRCAM3 type="oc" subtype="inst.IRCAM3">
          <instPort>East</instPort>
          <meta_version>1.0</meta_version>
          <readoutArea>256x256</readoutArea>
          <coadds>1</coadds>
          <sourceMag>none</sourceMag>
          <instAper>
            <value>5.21</value>
            <value>13.19</value>
            <value>0.0</value>
            <value>1.0</value>
          </instAper>
          <polariser>prism</polariser>
          <filter>Lp98</filter>
          <exposureTime>0.12</exposureTime>
          <meta_unique>true</meta_unique>
          <acqMode>Deepwell+STARE</acqMode>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
        </SpInstIRCAM3>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>POL_EXTENDED expects to receive eight frames for at least three jitter positions.  The eight comprise pairs of object and sky exposures at each of the four waveplate positions.  After each block of eight images the telescope is slightly jittered on the extended source to correct for bad pixels, etc. 

N.B.: A flat field MUST be filed before this recipe is run (using a "make_skyflat..." observation).  An appropriate dark must also be obtained.</note>
          <title>Pol recipe selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>POL_EXTENDED</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_EXTENDED</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterDarkObs type="ic" subtype="darkObs">
            <coadds>10</coadds>
            <exposureTime>0.12</exposureTime>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
          </SpIterDarkObs>
          <SpIterRepeat type="ic" subtype="repeat">
            <title>Repeat 1X</title>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <meta_gui_selected>false</meta_gui_selected>
            <SpNote type="no" subtype="none">
              <title>Obj-Sky pair at each WP position.</title>
              <meta_gui_selected>false</meta_gui_selected>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>Nod between object and blank sky for each of the four waveplate positions.  Repeat this sequence at three slightly jittered positions.</note>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <meta_gui_selected>false</meta_gui_selected>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-sky nod 1</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>60.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <title>Obj-sky nod 2</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-1.0</DC1>
                    <DC2>-0.5</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>3.0</DC1>
                    <DC2>55.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset1</meta_gui_selectedOffsetPos>
                <title>Obj-sky nod 3</title>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>1.0</DC1>
                    <DC2>0.5</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>1.0</DC1>
                    <DC2>65.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees, and telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpNote type="no" subtype="none">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <note>SITE QUALITY AND SCHEDULING CONSTRAINTS
------------------------------------------
These MSBs do not include site quality components; if
you need these on an MSB-by-MSB basis then please
add them from the component button once the MSBs are in your programme. If you have a global site quality requirement then this should be placed at the top of the programme and will apply to all the MSBs.

Scheduling constraints are also not included, since they
are unlikely to apply to more than a small minority of programmes.</note>
      <title>CGS4</title>
    </SpNote>
    <SpMSB remaining="1" type="og" subtype="msb">
      <library_version>$Revision$</library_version>
      <title>Pol nod along slit (CGS4)</title>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <priority>99</priority>
      <estimatedDuration units="seconds">2314.8799999999997</estimatedDuration>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This MSB is incomplete without a standard star in the selected waveband.
We incorporate a template standard sequence (which is made optional); simply
edit in your standard star ID, resolve the name and then alter IRCAM settings.</note>
        <title>READ THIS</title>
      </SpNote>
      <SpNote observeInstruction="true" type="no" subtype="none">
        <title>OBSERVER NOTES</title>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note></note>
      </SpNote>
      <SpObs msb="false" optional="true" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">75.0</estimatedDuration>
        <chainedToPrev>false</chainedToPrev>
        <title>flat and an arc</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Simply takes a flat field and an arc lamp frame.

Be sure the CGS4 config matches that of your standard and target.

Be sure to hit the default button in the flat and arc editors if you change the configuration.</note>
          <title>Flat and Arc</title>
        </SpNote>
        <SpInstCGS4 type="oc" subtype="inst.CGS4">
          <order>1</order>
          <instPort>South</instPort>
          <disperser>40lpmm</disperser>
          <instAper>
            <value>-0.81</value>
            <value>12.32</value>
            <value>0.0</value>
            <value>2.1</value>
          </instAper>
          <filter>B2</filter>
          <cvfOffset>0.0</cvfOffset>
          <acqMode>NDSTARE</acqMode>
          <meta_unique>true</meta_unique>
          <sourceMag>none</sourceMag>
          <exposureTime>4.0</exposureTime>
          <posAngle>0</posAngle>
          <neutralDensity>0</neutralDensity>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <sampling>2x2</sampling>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
          <centralWavelength>2.1</centralWavelength>
          <coadds>2</coadds>
          <mask>1pixel</mask>
          <polariser>prism</polariser>
          <meta_version>1.0</meta_version>
        </SpInstCGS4>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>QUICK_LOOK</ObjectRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <flatSampling>1x1</flatSampling>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <repeatCount>1</repeatCount>
            <filter>B2</filter>
            <exposureTime>0.25</exposureTime>
            <calType>Flat</calType>
            <acqMode>NDSTARE</acqMode>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <neutralDensity>false</neutralDensity>
            <lamp>Black Body (1.3)</lamp>
          </SpIterCGS4CalObs>
          <SpIterCGS4CalObs type="ic" subtype="CGS4calUnitObs">
            <flatSampling>1x1</flatSampling>
            <coadds>5</coadds>
            <cvfWavelength>2.1</cvfWavelength>
            <repeatCount>1</repeatCount>
            <filter>B2</filter>
            <exposureTime>0.5</exposureTime>
            <calType>Arc</calType>
            <acqMode>NDSTARE</acqMode>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <neutralDensity>false</neutralDensity>
            <lamp>Argon Arc</lamp>
          </SpIterCGS4CalObs>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">1157.4399999999998</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Pol standard</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>For detailed advice about CGS4 see the web page at
http://www.jach.hawaii.edu/JACpublic/UKIRT/instruments/cgs4/handbook.html

Enter your desired CGS4 setup into the component below.  Make sure you choose the same settings for grating, wavelength, order, slit width and position angle for your arcs and flats as for your sources.

Note that if you enter a central wavelength and choose a grating the order will be automatically selected. You may over-ride this if you wish, but seek advice on non-optimum orders from your support scientist.

There is feedback showing what the wavelength range and spectral resolution with the 1-pixel wide slit would be.

Enter the slit width in pixels that you want to use.  Slit widths wider than 1-pixel may result in lower spectral resolution, depending on the seeing.  

Slit position angles on the sky should fall in 
the range -7 to -173 degrees EAST of NORTH

If you select a source magnitude range the tool will enter a recommended exposure time and number of coadds at each sampling position.  You may enter your own value instead if you prefer. If the exposure time is short (less than 1sec) consider using STARE mode instead.

Sampling is specified as "Oversampling factor" x
"number of pixels" the spectrum is stepped over. So 2 x 2 sampling is Nyquist sampling stepped over 2 pixels giving a total of 4 independant measurements of the spectrum, 2 at each data point in the final spectrum.</note>
          <title>cgs4 setup</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>You should select "prism" in the 'polariser' box.  Note that with the prism, the slit is aligned to the prism rather than the array, so you will see sloping sky lines etc. in the data.  The 2-pixel slit might be better aligned in terms of getting both the o- and e- polarimetry beams through the slit.

Best efforts are make to align all the slits, though obvioulsy it's more difficult to align the narrow (1 pixel) slit.</note>
          <title>cgs4+irpol</title>
        </SpNote>
        <SpInstCGS4 type="oc" subtype="inst.CGS4">
          <order>1</order>
          <instPort>South</instPort>
          <disperser>40lpmm</disperser>
          <instAper>
            <value>-0.81</value>
            <value>12.32</value>
            <value>0.0</value>
            <value>2.1</value>
          </instAper>
          <filter>B2</filter>
          <cvfOffset>0.0</cvfOffset>
          <acqMode>NDSTARE</acqMode>
          <meta_unique>true</meta_unique>
          <sourceMag>8-9</sourceMag>
          <exposureTime>35.0</exposureTime>
          <posAngle>0.0</posAngle>
          <neutralDensity>false</neutralDensity>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <sampling>2x2</sampling>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
          <centralWavelength>2.1</centralWavelength>
          <coadds>1</coadds>
          <mask>2pixel</mask>
          <polariser>prism</polariser>
          <meta_version>1.0</meta_version>
        </SpInstCGS4>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>The data-reduction recipe specified below uses the most basic data-reduction recipe for speed.  (This is a good idea if your exposure time short.)</note>
          <title>DR Recipe Selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SINGLE_FRAMES_ONLY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>REDUCE_SINGLE_FRAMES_ONLY</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>REDUCE_SINGLE_FRAMES_ONLY</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>false</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>To repeat the set of polarimetry frames in order to obtain the desired signal-to-noise on your target, use the repeat component below to specify how many times you want to repeat the sequence.</note>
            <title>how to do more than one cycle</title>
          </SpNote>
          <SpIterRepeat type="ic" subtype="repeat">
            <repeatCount>1</repeatCount>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <title>Repeat 1X</title>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>this nods 30 rows along the slit</note>
              <title>offset info</title>
            </SpNote>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>This sequence interleaves irpol waveplate rotations and slit nodding.

The whole sequence looks like this:

Waveplate 0 degrees
object
sky
waveplate 45 degrees
sky
object
waveplate 22.5 degrees
object 
sky
waveplate 67.5 degrees
sky
object</note>
              <title>irpol info</title>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>0</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>11.74</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>45</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>11.74</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>22.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>11.74</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>67.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>11.74</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees.  The last offset already sets the telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">1157.4399999999998</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Pol nod along slit (CGS4)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Enter your target co-ordinates into the target list below.  Note that although this is called a "target list" it only allows you to specify ONE astronomical target.

When you have done so you can use the "position editor" to  select a guide star, to fine tune the co-ordinate based on a sky survey picture, examine offset locations on the field etc.

For a step-by-step guide to how to use the position editor use "help".</note>
          <title>target information</title>
        </SpNote>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName>Object Name</targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>For detailed advice about CGS4 see the web page at
http://www.jach.hawaii.edu/JACpublic/UKIRT/instruments/cgs4/handbook.html

Enter your desired CGS4 setup into the component below.  Make sure you choose the same settings for grating, wavelength, order, slit width and position angle for your arcs and flats as for your sources.

Note that if you enter a central wavelength and choose a grating the order will be automatically selected. You may over-ride this if you wish, but seek advice on non-optimum orders from your support scientist.

There is feedback showing what the wavelength range and spectral resolution with the 1-pixel wide slit would be.

Enter the slit width in pixels that you want to use.  Slit widths wider than 1-pixel may result in lower spectral resolution, depending on the seeing.  

Slit position angles on the sky should fall in 
the range -7 to -173 degrees EAST of NORTH

If you select a source magnitude range the tool will enter a recommended exposure time and number of coadds at each sampling position.  You may enter your own value instead if you prefer. If the exposure time is short (less than 1sec) consider using STARE mode instead.

Sampling is specified as "Oversampling factor" x
"number of pixels" the spectrum is stepped over. So 2 x 2 sampling is Nyquist sampling stepped over 2 pixels giving a total of 4 independant measurements of the spectrum, 2 at each data point in the final spectrum.</note>
          <title>cgs4 setup</title>
        </SpNote>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>You should select "prism" in the 'polariser' box.  Note that with the prism, the slit is aligned to the prism rather than the array, so you will see sloping sky lines etc. in the data.  The 2-pixel slit might be better aligned in terms of getting both the o- and e- polarimetry beams through the slit.

Best efforts are make to align all the slits, though obvioulsy it's more difficult to align the narrow (1 pixel) slit.</note>
          <title>cgs4+irpol</title>
        </SpNote>
        <SpInstCGS4 type="oc" subtype="inst.CGS4">
          <order>1</order>
          <instPort>South</instPort>
          <disperser>40lpmm</disperser>
          <instAper>
            <value>-0.81</value>
            <value>12.32</value>
            <value>0.0</value>
            <value>2.1</value>
          </instAper>
          <filter>B2</filter>
          <cvfOffset>0.0</cvfOffset>
          <acqMode>NDSTARE</acqMode>
          <meta_unique>true</meta_unique>
          <sourceMag>8-9</sourceMag>
          <exposureTime>35.0</exposureTime>
          <posAngle>0.0</posAngle>
          <neutralDensity>false</neutralDensity>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <sampling>2x2</sampling>
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
          <centralWavelength>2.1</centralWavelength>
          <coadds>1</coadds>
          <mask>2pixel</mask>
          <polariser>prism</polariser>
          <meta_version>1.0</meta_version>
        </SpInstCGS4>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>The data-reduction recipe specified below uses the most basic data-reduction recipe for speed.  (This is a good idea if your exposure time short.)</note>
          <title>DR Recipe Selection</title>
        </SpNote>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SINGLE_FRAMES_ONLY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_DARK</DarkRecipe>
          <title>REDUCE_SINGLE_FRAMES_ONLY</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>REDUCE_SINGLE_FRAMES_ONLY</ObjectRecipe>
          <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>false</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>To repeat the set of polarimetry frames in order to obtain the desired signal-to-noise on your target, use the repeat component below to specify how many times you want to repeat the sequence.</note>
            <title>how to do more than one cycle</title>
          </SpNote>
          <SpIterRepeat type="ic" subtype="repeat">
            <repeatCount>1</repeatCount>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <title>Repeat 1X</title>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>this nods 30 rows along the slit</note>
              <title>offset info</title>
            </SpNote>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>This sequence interleaves irpol waveplate rotations and slit nodding.

The whole sequence looks like this:

Waveplate 0 degrees
object
sky
waveplate 45 degrees
sky
object
waveplate 22.5 degrees
object 
sky
waveplate 67.5 degrees
sky
object</note>
              <title>irpol info</title>
            </SpNote>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>0</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>11.74</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>45</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>11.74</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>22.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>11.74</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>67.5</IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>11.74</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>0.0</DC1>
                    <DC2>0.0</DC2>
                  </OFFSET>
                </obsArea>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Waveplate back to 0 degrees.  The last offset already sets the telescope back to offset 0,0.</note>
            <title>Return to zero</title>
          </SpNote>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpNote type="no" subtype="none">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <note>SITE QUALITY AND SCHEDULING CONSTRAINTS
------------------------------------------
These MSBs do not include site quality components; if
you need these on an MSB-by-MSB basis then please
add them from the component button once the MSBs are in your programme. If you have a global site quality requirement then this should be placed at the top of the programme and will apply to all the MSBs.

Scheduling constraints are also not included, since they
are unlikely to apply to more than a small minority of programmes.</note>
      <title>Michelle</title>
    </SpNote>
    <SpMSB remaining="1" type="og" subtype="msb">
      <library_version>$Revision$</library_version>
      <title>Specpol - Point Source (Michelle)</title>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <priority>99</priority>
      <estimatedDuration units="seconds">11480.060614246408</estimatedDuration>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">5740.030307123204</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Specpol - Standard Star (MIchelle)</title>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <standard>false</standard>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <chopThrow>15.07</chopThrow>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName></targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <chopping>true</chopping>
          <chopAngle>0.0</chopAngle>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpInstMichelle type="oc" subtype="inst.michelle">
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <order>1</order>
          <centralWavelength>10.5</centralWavelength>
          <posAngle>0.0</posAngle>
          <disperser>LowN</disperser>
          <instPort>North</instPort>
          <waveform>ndrv11small</waveform>
          <meta_version>1</meta_version>
          <instAper>
            <value>0.59</value>
            <value>4.76</value>
            <value>0.0</value>
            <value>10.5</value>
          </instAper>
          <mode>NDCHOP</mode>
          <obsTimeOT>10.0</obsTimeOT>
          <filter>NPBlock</filter>
          <coadds>21</coadds>
          <nreads>44</nreads>
          <meta_gui_selected>false</meta_gui_selected>
          <spectralCoverage>6.52 - 14.48</spectralCoverage>
          <observationTime>21.0469933872</observationTime>
          <dutyCycle>0.8764015041232526</dutyCycle>
          <chopFrequency>1.0452799407149327</chopFrequency>
          <maskAngle>0.455</maskAngle>
          <mustIdles>0</mustIdles>
          <meta_unique>true</meta_unique>
          <sampling>1x2</sampling>
          <nullReads>1</nullReads>
          <waveplate>wp_N</waveplate>
          <nullCycles>1</nullCycles>
          <pixelFOV>0.38 x 0.38</pixelFOV>
          <idlePeriod>0.01</idlePeriod>
          <configType>Normal</configType>
          <scienceArea>0.76 x 91.2</scienceArea>
          <filterCategory>Nband</filterCategory>
          <darkFilter>Blank</darkFilter>
          <polarimetry>yes</polarimetry>
          <readInterval>0.01</readInterval>
          <filterOT>F105B53</filterOT>
          <chopDelay>0.015</chopDelay>
          <mask>2_pixels</mask>
          <nullExposures>0</nullExposures>
          <resetDelay>0.01</resetDelay>
          <nresets>1</nresets>
          <camera>spectroscopy</camera>
          <exposureTime>0.43</exposureTime>
        </SpInstMichelle>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_BIAS</DarkRecipe>
          <title>POINT_SOURCE_POL</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POINT_SOURCE_POL</ObjectRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterRepeat type="ic" subtype="repeat">
            <repeatCount>4</repeatCount>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <title>Repeat 4X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_selected>false</meta_gui_selected>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterIRPOL type="ic" subtype="instIRPOL">
                <iterConfigList>IRPOLIter</iterConfigList>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <IRPOLIter>
                  <value>0</value>
                  <value>45</value>
                  <value>22.5</value>
                  <value>67.5</value>
                </IRPOLIter>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterIRPOL>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_selected>false</meta_gui_selected>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterIRPOL type="ic" subtype="instIRPOL">
                <iterConfigList>IRPOLIter</iterConfigList>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <IRPOLIter>
                  <value>180.0</value>
                  <value>225.0</value>
                  <value>202.5</value>
                  <value>247.5</value>
                </IRPOLIter>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterIRPOL>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">5740.030307123204</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Specpol - Point Source (Michelle)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <chopThrow>15.07</chopThrow>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName></targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <chopping>true</chopping>
          <chopAngle>0.0</chopAngle>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpInstMichelle type="oc" subtype="inst.michelle">
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <order>1</order>
          <centralWavelength>10.5</centralWavelength>
          <posAngle>0.0</posAngle>
          <disperser>LowN</disperser>
          <instPort>North</instPort>
          <waveform>ndrv11small</waveform>
          <meta_version>1</meta_version>
          <instAper>
            <value>0.59</value>
            <value>4.76</value>
            <value>0.0</value>
            <value>10.5</value>
          </instAper>
          <mode>NDCHOP</mode>
          <obsTimeOT>10.0</obsTimeOT>
          <filter>NPBlock</filter>
          <coadds>21</coadds>
          <nreads>44</nreads>
          <meta_gui_selected>false</meta_gui_selected>
          <spectralCoverage>6.52 - 14.48</spectralCoverage>
          <observationTime>21.0469933872</observationTime>
          <dutyCycle>0.8764015041232526</dutyCycle>
          <chopFrequency>1.0452799407149327</chopFrequency>
          <maskAngle>0.455</maskAngle>
          <mustIdles>0</mustIdles>
          <meta_unique>true</meta_unique>
          <sampling>1x2</sampling>
          <nullReads>1</nullReads>
          <waveplate>wp_N</waveplate>
          <nullCycles>1</nullCycles>
          <pixelFOV>0.38 x 0.38</pixelFOV>
          <idlePeriod>0.01</idlePeriod>
          <configType>Normal</configType>
          <scienceArea>0.76 x 91.2</scienceArea>
          <filterCategory>Nband</filterCategory>
          <darkFilter>Blank</darkFilter>
          <polarimetry>yes</polarimetry>
          <readInterval>0.01</readInterval>
          <filterOT>F105B53</filterOT>
          <chopDelay>0.015</chopDelay>
          <mask>2_pixels</mask>
          <nullExposures>0</nullExposures>
          <resetDelay>0.01</resetDelay>
          <nresets>1</nresets>
          <camera>spectroscopy</camera>
          <exposureTime>0.43</exposureTime>
        </SpInstMichelle>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_BIAS</DarkRecipe>
          <title>POINT_SOURCE_POL</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POINT_SOURCE_POL</ObjectRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterRepeat type="ic" subtype="repeat">
            <repeatCount>4</repeatCount>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <title>Repeat 4X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_selected>false</meta_gui_selected>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterIRPOL type="ic" subtype="instIRPOL">
                <iterConfigList>IRPOLIter</iterConfigList>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <IRPOLIter>
                  <value>0</value>
                  <value>45</value>
                  <value>22.5</value>
                  <value>67.5</value>
                </IRPOLIter>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterIRPOL>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_selected>false</meta_gui_selected>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterIRPOL type="ic" subtype="instIRPOL">
                <iterConfigList>IRPOLIter</iterConfigList>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <IRPOLIter>
                  <value>180.0</value>
                  <value>225.0</value>
                  <value>202.5</value>
                  <value>247.5</value>
                </IRPOLIter>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterIRPOL>
            </SpIterOffset>
          </SpIterRepeat>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <library_version>$Revision$</library_version>
      <title>Impol iterate angle then nod (Michelle)</title>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <priority>99</priority>
      <estimatedDuration units="seconds">10725.314207999983</estimatedDuration>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">10725.314207999983</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Impol iterate angle then nod (Michelle)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <chopThrow>15.07</chopThrow>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName></targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <chopping>true</chopping>
          <chopAngle>0.0</chopAngle>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpInstMichelle type="oc" subtype="inst.michelle">
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <order>1</order>
          <centralWavelength>10.5</centralWavelength>
          <posAngle>0.0</posAngle>
          <disperser>LowN</disperser>
          <instPort>North</instPort>
          <waveform>starev13big</waveform>
          <meta_version>1</meta_version>
          <instAper>
            <value>-1.07</value>
            <value>7.48</value>
            <value>0.0</value>
            <value>10.5</value>
          </instAper>
          <mode>CHOP</mode>
          <obsTimeOT>20.0</obsTimeOT>
          <filter>IP105B53</filter>
          <coadds>621</coadds>
          <nreads>0</nreads>
          <meta_gui_selected>false</meta_gui_selected>
          <spectralCoverage>6.52 - 14.48</spectralCoverage>
          <observationTime>40.501227375</observationTime>
          <dutyCycle>0.3066573732446053</dutyCycle>
          <chopFrequency>5.185028050029558</chopFrequency>
          <maskAngle>0.455</maskAngle>
          <mustIdles>0</mustIdles>
          <meta_unique>true</meta_unique>
          <sampling>1x2</sampling>
          <nullReads>0</nullReads>
          <waveplate>wp_N</waveplate>
          <nullCycles>3</nullCycles>
          <pixelFOV>0.21 x 0.21</pixelFOV>
          <idlePeriod>0.01</idlePeriod>
          <configType>Normal</configType>
          <scienceArea>51.2 x 68.3</scienceArea>
          <filterCategory>Nband</filterCategory>
          <darkFilter>Blank</darkFilter>
          <polarimetry>yes</polarimetry>
          <readInterval>0.01</readInterval>
          <filterOT>F105B53</filterOT>
          <chopDelay>0.015</chopDelay>
          <mask>2_pixels</mask>
          <nullExposures>0</nullExposures>
          <resetDelay>0.01</resetDelay>
          <nresets>2</nresets>
          <camera>imaging</camera>
          <exposureTime>0.01</exposureTime>
        </SpInstMichelle>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_BIAS</DarkRecipe>
          <title>POL_ANGLE_NOD_CHOP</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_ANGLE_NOD_CHOP</ObjectRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterRepeat type="ic" subtype="repeat">
            <repeatCount>4</repeatCount>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <title>Repeat 4X</title>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_selected>false</meta_gui_selected>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>-7.5</DC1>
                  <DC2>7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>7.5</DC1>
                  <DC2>7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>7.5</DC1>
                  <DC2>7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-7.5</DC1>
                  <DC2>7.5</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterIRPOL type="ic" subtype="instIRPOL">
                <iterConfigList>IRPOLIter</iterConfigList>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <IRPOLIter>
                  <value>0</value>
                  <value>45</value>
                  <value>22.5</value>
                  <value>67.5</value>
                </IRPOLIter>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterIRPOL>
            </SpIterOffset>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset3</meta_gui_selectedOffsetPos>
              <meta_gui_selected>false</meta_gui_selected>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>-7.5</DC1>
                  <DC2>7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>7.5</DC1>
                  <DC2>7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>7.5</DC1>
                  <DC2>7.5</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-7.5</DC1>
                  <DC2>7.5</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterIRPOL type="ic" subtype="instIRPOL">
                <iterConfigList>IRPOLIter</iterConfigList>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <IRPOLIter>
                  <value>180.0</value>
                  <value>225.0</value>
                  <value>202.5</value>
                  <value>247.5</value>
                </IRPOLIter>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterIRPOL>
            </SpIterOffset>
          </SpIterRepeat>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpMSB remaining="1" type="og" subtype="msb">
      <library_version>$Revision$</library_version>
      <title>Impol nod then angle (Michelle)</title>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <priority>99</priority>
      <estimatedDuration units="seconds">11205.314207999983</estimatedDuration>
      <SpObs msb="false" optional="false" remaining="1" type="ob" subtype="none">
        <chainedToNext>false</chainedToNext>
        <estimatedDuration units="seconds">11205.314207999983</estimatedDuration>
        <meta_gui_selected>false</meta_gui_selected>
        <chainedToPrev>false</chainedToPrev>
        <title>Impol nod then angle (Michelle)</title>
        <meta_gui_collapsed>true</meta_gui_collapsed>
        <standard>false</standard>
        <SpTelescopeObsComp type="oc" subtype="targetList">
          <meta_unique>true</meta_unique>
          <chopThrow>15.07</chopThrow>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <BASE TYPE="Base">
            <target>
              <targetName></targetName>
              <spherSystem SYSTEM="J2000">
                <c1>0:00:00</c1>
                <c2>0:00:00</c2>
              </spherSystem>
            </target>
          </BASE>
          <chopping>true</chopping>
          <chopAngle>0.0</chopAngle>
          <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
        </SpTelescopeObsComp>
        <SpInstMichelle type="oc" subtype="inst.michelle">
          <instPntgOffset>
            <value>0.0</value>
            <value>0.0</value>
          </instPntgOffset>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <order>1</order>
          <centralWavelength>10.5</centralWavelength>
          <posAngle>0.0</posAngle>
          <disperser>LowN</disperser>
          <instPort>North</instPort>
          <waveform>starev13big</waveform>
          <meta_version>1</meta_version>
          <instAper>
            <value>-1.07</value>
            <value>7.48</value>
            <value>0.0</value>
            <value>10.5</value>
          </instAper>
          <mode>CHOP</mode>
          <obsTimeOT>20.0</obsTimeOT>
          <filter>IP105B53</filter>
          <coadds>621</coadds>
          <nreads>0</nreads>
          <meta_gui_selected>false</meta_gui_selected>
          <spectralCoverage>6.52 - 14.48</spectralCoverage>
          <observationTime>40.501227375</observationTime>
          <dutyCycle>0.3066573732446053</dutyCycle>
          <chopFrequency>5.185028050029558</chopFrequency>
          <maskAngle>0.455</maskAngle>
          <mustIdles>0</mustIdles>
          <meta_unique>true</meta_unique>
          <sampling>1x2</sampling>
          <nullReads>0</nullReads>
          <waveplate>wp_N</waveplate>
          <nullCycles>3</nullCycles>
          <pixelFOV>0.21 x 0.21</pixelFOV>
          <idlePeriod>0.01</idlePeriod>
          <configType>Normal</configType>
          <scienceArea>51.2 x 68.3</scienceArea>
          <filterCategory>Nband</filterCategory>
          <darkFilter>Blank</darkFilter>
          <polarimetry>yes</polarimetry>
          <readInterval>0.01</readInterval>
          <filterOT>F105B53</filterOT>
          <chopDelay>0.015</chopDelay>
          <mask>2_pixels</mask>
          <nullExposures>0</nullExposures>
          <resetDelay>0.01</resetDelay>
          <nresets>2</nresets>
          <camera>imaging</camera>
          <exposureTime>0.01</exposureTime>
        </SpInstMichelle>
        <SpDRRecipe type="oc" subtype="DRRecipe">
          <SkyRecipe>REDUCE_SKY</SkyRecipe>
          <FlatRecipe>REDUCE_FLAT</FlatRecipe>
          <ArcRecipe>REDUCE_ARC</ArcRecipe>
          <DarkRecipe>REDUCE_BIAS</DarkRecipe>
          <title>POL_NOD_CHOP</title>
          <meta_unique>true</meta_unique>
          <BiasInGroup>false</BiasInGroup>
          <DarkInGroup>false</DarkInGroup>
          <BiasRecipe>REDUCE_BIAS</BiasRecipe>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <ObjectRecipe>POL_NOD_CHOP</ObjectRecipe>
          <ArcInGroup>false</ArcInGroup>
          <FlatInGroup>false</FlatInGroup>
          <SkyInGroup>true</SkyInGroup>
          <ObjectInGroup>true</ObjectInGroup>
        </SpDRRecipe>
        <SpIterFolder type="if" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <SpIterRepeat type="ic" subtype="repeat">
            <repeatCount>4</repeatCount>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <title>Repeat 4X</title>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>0</value>
                <value>45</value>
                <value>22.5</value>
                <value>67.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_selected>false</meta_gui_selected>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-7.5</DC1>
                    <DC2>7.5</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>7.5</DC1>
                    <DC2>7.5</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>7.5</DC1>
                    <DC2>7.5</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-7.5</DC1>
                    <DC2>7.5</DC2>
                  </OFFSET>
                </obsArea>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
            <SpIterIRPOL type="ic" subtype="instIRPOL">
              <iterConfigList>IRPOLIter</iterConfigList>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <IRPOLIter>
                <value>180.0</value>
                <value>225.0</value>
                <value>202.5</value>
                <value>247.5</value>
              </IRPOLIter>
              <SpIterOffset type="ic" subtype="offset">
                <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
                <meta_gui_selected>false</meta_gui_selected>
                <obsArea>
                  <PA>0.0</PA>
                  <OFFSET>
                    <DC1>-7.5</DC1>
                    <DC2>7.5</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>7.5</DC1>
                    <DC2>7.5</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>7.5</DC1>
                    <DC2>7.5</DC2>
                  </OFFSET>
                  <OFFSET>
                    <DC1>-7.5</DC1>
                    <DC2>7.5</DC2>
                  </OFFSET>
                </obsArea>
                <meta_gui_collapsed>false</meta_gui_collapsed>
                <SpIterObserve type="ic" subtype="observe">
                  <repeatCount>1</repeatCount>
                  <meta_gui_collapsed>false</meta_gui_collapsed>
                </SpIterObserve>
              </SpIterOffset>
            </SpIterIRPOL>
          </SpIterRepeat>
          <SpIterOffset type="ic" subtype="offset">
            <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <obsArea>
              <PA>0.0</PA>
              <OFFSET>
                <DC1>0.0</DC1>
                <DC2>0.0</DC2>
              </OFFSET>
            </obsArea>
          </SpIterOffset>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
          </SpIterIRPOL>
        </SpIterFolder>
      </SpObs>
    </SpMSB>
    <SpNote type="no" subtype="none">
      <meta_gui_collapsed>false</meta_gui_collapsed>
      <note>These are *not* MSBs; they are straightforward Observations. Some appear in the MSBs defined here, others (e.g. the make_skyflat for each WP angle) may be used as replacements.</note>
      <title>Utility sequences</title>
    </SpNote>
    <SpObs msb="true" optional="false" remaining="1" type="ob" subtype="none">
      <chainedToNext>false</chainedToNext>
      <estimatedDuration units="seconds">366.0</estimatedDuration>
      <library_version>$Revision$</library_version>
      <SpTelescopeObsCompRef idref="0"/>
      <SpInstUFTIRef idref="1"/>
      <SpDRRecipeRef idref="2"/>
      <meta_gui_selected>false</meta_gui_selected>
      <chainedToPrev>false</chainedToPrev>
      <title>make_skyflat for each WP angle for Pol (UFTI)</title>
      <priority>99</priority>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <standard>false</standard>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Construct separate flat fields for each of the four waveplate angles.  Any number of sky frames can be combined into each flat;  the recipe SKY_FLAT_POL_ANGLE should be used.

N.B.  All current polarimetry recipes require a separate flat field.</note>
        <title>Usage</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Select a piece of blank sky near your target.

For a step-by-step guide to how to use the position editor use "help".</note>
        <title>target information</title>
      </SpNote>
      <SpTelescopeObsComp id="0" type="oc" subtype="targetList">
        <meta_unique>true</meta_unique>
        <meta_gui_selected>false</meta_gui_selected>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <BASE TYPE="Base">
          <target>
            <targetName>Enter blank sky coords</targetName>
            <spherSystem SYSTEM="J2000">
              <c1>0:00:00</c1>
              <c2>0:00:00</c2>
            </spherSystem>
          </target>
        </BASE>
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
      </SpTelescopeObsComp>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
        <title>Filter AND Prism</title>
      </SpNote>
      <SpInstUFTI id="1" type="oc" subtype="inst.UFTI">
        <instPort>West</instPort>
        <instAper>
          <value>0.00</value>
          <value>18.73</value>
          <value>0.0</value>
          <value>1.635</value>
        </instAper>
        <filter>H98</filter>
        <acqMode>Normal+NDSTARE</acqMode>
        <meta_gui_selected>false</meta_gui_selected>
        <meta_unique>true</meta_unique>
        <sourceMag>10-11</sourceMag>
        <exposureTime>10</exposureTime>
        <posAngle>0.0</posAngle>
        <readoutArea>1024x1024</readoutArea>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <title>- set configuration</title>
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
        <coadds>1</coadds>
        <polariser>prism</polariser>
        <meta_version>1.0</meta_version>
      </SpInstUFTI>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This recipe creates a flat field for each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees).  It requires frames consisting of at least three positions on the sky for each waveplate position, so that each group can be median averaged to form the flat.

N.B.: A Dark MUST be obtained first.

If you do not need flats at each waveplate angle, select the observation "make_skyflat for Pol".</note>
        <title>Pol recipe</title>
      </SpNote>
      <SpDRRecipe id="2" type="oc" subtype="DRRecipe">
        <DarkInGroup>false</DarkInGroup>
        <ArcInGroup>false</ArcInGroup>
        <SkyRecipe>REDUCE_SKY</SkyRecipe>
        <ObjectRecipe>SKY_FLAT_POL_ANGLE</ObjectRecipe>
        <meta_gui_selected>false</meta_gui_selected>
        <FlatRecipe>REDUCE_FLAT</FlatRecipe>
        <BiasRecipe>REDUCE_BIAS</BiasRecipe>
        <meta_unique>true</meta_unique>
        <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
        <DarkRecipe>REDUCE_DARK</DarkRecipe>
        <SkyInGroup>true</SkyInGroup>
        <ObjectInGroup>true</ObjectInGroup>
        <ArcRecipe>REDUCE_ARC</ArcRecipe>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <BiasInGroup>false</BiasInGroup>
        <FlatInGroup>false</FlatInGroup>
        <title>SKY_FLAT_POL_ANGLE</title>
      </SpDRRecipe>
      <SpIterFolder type="if" subtype="none">
        <meta_gui_selected>false</meta_gui_selected>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <SpIterDarkObs type="ic" subtype="darkObs">
          <coadds>1</coadds>
          <exposureTime>10.0</exposureTime>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <repeatCount>1</repeatCount>
        </SpIterDarkObs>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is present to enable flat fields to be obtained for more than one filter.   It is set to one filter because the data-reduction recipe currently cannot handle multi-colour data.  The remainder of the note will apply once the recipe is made colour generic.

If you wish to observe at more than one wavelength, add filters to the "UFTI" component below, changing exposure times as required.</note>
          <title>Iterate through filters</title>
        </SpNote>
        <SpIterUFTI type="ic" subtype="instUFTI">
          <instAperLIter>1.635</instAperLIter>
          <coaddsIter>1</coaddsIter>
          <iterConfigList>
            <value>filterIter</value>
            <value>instAperLIter</value>
            <value>exposureTimeIter</value>
            <value>coaddsIter</value>
          </iterConfigList>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_gui_selected>false</meta_gui_selected>
          <filterIter>H98</filterIter>
          <exposureTimeIter>10</exposureTimeIter>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>This uses a 5-point cross-shape jitter at 60-arcsecond steps.

Guiding may be switched off at the telescope.</note>
            <title>5pt on sky per WP angle</title>
          </SpNote>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset4</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>59.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>61.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>59.0</DC1>
                  <DC2>61.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>45</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>59.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>61.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>59.0</DC1>
                  <DC2>61.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>22.5</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>59.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>61.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>59.0</DC1>
                  <DC2>61.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>67.5</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>59.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>61.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>59.0</DC1>
                  <DC2>61.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
        </SpIterUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Return waveplate to 0 degrees and the telescope to offset 0,0.</note>
          <title>Back to zero</title>
        </SpNote>
        <SpIterOffset type="ic" subtype="offset">
          <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <obsArea>
            <PA>0.0</PA>
            <OFFSET>
              <DC1>0.0</DC1>
              <DC2>0.0</DC2>
            </OFFSET>
          </obsArea>
        </SpIterOffset>
        <SpIterIRPOL type="ic" subtype="instIRPOL">
          <iterConfigList>IRPOLIter</iterConfigList>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <IRPOLIter>0</IRPOLIter>
        </SpIterIRPOL>
      </SpIterFolder>
    </SpObs>
    <SpObs msb="true" optional="false" remaining="1" type="ob" subtype="none">
      <chainedToNext>false</chainedToNext>
      <estimatedDuration units="seconds">174.0</estimatedDuration>
      <library_version>$Revision$</library_version>
      <SpTelescopeObsCompRef idref="3"/>
      <SpInstUFTIRef idref="4"/>
      <SpDRRecipeRef idref="5"/>
      <meta_gui_selected>false</meta_gui_selected>
      <chainedToPrev>false</chainedToPrev>
      <title>make_skyflat for Pol (UFTI)</title>
      <priority>99</priority>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <standard>false</standard>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This sequence obtains eight frames, two at each waveplate angle, that are median averaged to make a "master" flat field for use with all subsequent target pol observations.

N.B.  All current Polarimetry recipes require a separate flat field (and dark).</note>
        <title>Usage</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Select a piece of blank sky near your target.

For a step-by-step guide to how to use the position editor use "help".</note>
        <title>target information</title>
      </SpNote>
      <SpTelescopeObsComp id="3" type="oc" subtype="targetList">
        <meta_unique>true</meta_unique>
        <meta_gui_selected>false</meta_gui_selected>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <BASE TYPE="Base">
          <target>
            <targetName>Enter blank sky coords.</targetName>
            <spherSystem SYSTEM="J2000">
              <c1>00:00:00</c1>
              <c2>0:00:00</c2>
            </spherSystem>
          </target>
        </BASE>
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
      </SpTelescopeObsComp>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Remember to select the prism in the polariser box in the UFTI component below!</note>
        <title>Filter AND Prism</title>
      </SpNote>
      <SpInstUFTI id="4" type="oc" subtype="inst.UFTI">
        <instPort>West</instPort>
        <instAper>
          <value>0.00</value>
          <value>18.73</value>
          <value>0.0</value>
          <value>1.635</value>
        </instAper>
        <filter>H98</filter>
        <acqMode>Normal+NDSTARE</acqMode>
        <meta_gui_selected>false</meta_gui_selected>
        <meta_unique>true</meta_unique>
        <sourceMag>10-11</sourceMag>
        <exposureTime>10</exposureTime>
        <posAngle>0.0</posAngle>
        <readoutArea>1024x1024</readoutArea>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <title>- set configuration</title>
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
        <coadds>1</coadds>
        <polariser>prism</polariser>
        <meta_version>1.0</meta_version>
      </SpInstUFTI>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Recipe requires at least two frames at each of the 4 waveplate
positions (0, 45, 22.5 and 67.5 degrees).  All frames should be at
different positions on blank sky.  All frames are median averaged,
regardless of the waveplate angle,  to make a "master-pol-flat".

N.B.: A Dark MUST be obtained first.  If you need separate flats for each waveplate position, select observation "make_skyflat for each WP angle" instead.</note>
        <title>Pol recipe</title>
      </SpNote>
      <SpDRRecipe id="5" type="oc" subtype="DRRecipe">
        <DarkInGroup>false</DarkInGroup>
        <ArcInGroup>false</ArcInGroup>
        <SkyRecipe>REDUCE_SKY</SkyRecipe>
        <ObjectRecipe>SKY_FLAT_POL</ObjectRecipe>
        <meta_gui_selected>false</meta_gui_selected>
        <FlatRecipe>REDUCE_FLAT</FlatRecipe>
        <BiasRecipe>REDUCE_BIAS</BiasRecipe>
        <meta_unique>true</meta_unique>
        <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
        <DarkRecipe>REDUCE_DARK</DarkRecipe>
        <SkyInGroup>true</SkyInGroup>
        <ObjectInGroup>true</ObjectInGroup>
        <ArcRecipe>REDUCE_ARC</ArcRecipe>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <BiasInGroup>false</BiasInGroup>
        <FlatInGroup>false</FlatInGroup>
        <title>SKY_FLAT_POL</title>
      </SpDRRecipe>
      <SpIterFolder type="if" subtype="none">
        <meta_gui_selected>false</meta_gui_selected>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <SpIterDarkObs type="ic" subtype="darkObs">
          <coadds>1</coadds>
          <exposureTime>10.0</exposureTime>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <repeatCount>1</repeatCount>
        </SpIterDarkObs>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is present to enable flat fields to be obtained for more than one filter.   It is set to one filter because the data-reduction recipe currently cannot handle multi-colour data.  The remainder of the note will apply once the recipe is made colour generic.

If you wish to observe at more than one wavelength, add filters
to the "UFTI" component below, changing exposure times as
required.</note>
          <title>Iterate through filters</title>
        </SpNote>
        <SpIterUFTI type="ic" subtype="instUFTI">
          <instAperLIter>1.635</instAperLIter>
          <coaddsIter>1</coaddsIter>
          <iterConfigList>
            <value>filterIter</value>
            <value>instAperLIter</value>
            <value>exposureTimeIter</value>
            <value>coaddsIter</value>
          </iterConfigList>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <meta_gui_selected>false</meta_gui_selected>
          <filterIter>H98</filterIter>
          <exposureTimeIter>10</exposureTimeIter>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Observe at 8 different positions on the sky.  Waveplate changed every 2 frames so that all 4 waveplate positions are sampled.

All eight frames median averaged to form flat field with 
SKY_FLAT_POL recipe.  N.B.: Darks required by recipe.</note>
            <title>2 positions x 4 WP positions.</title>
          </SpNote>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>45</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>60.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>22.5</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>60.0</DC1>
                  <DC2>60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>67.5</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
        </SpIterUFTI>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Return waveplate to 0 degrees and the telescope offsets to 0,0.</note>
          <title>Back to zero</title>
        </SpNote>
        <SpIterOffset type="ic" subtype="offset">
          <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <obsArea>
            <PA>0.0</PA>
            <OFFSET>
              <DC1>0.0</DC1>
              <DC2>0.0</DC2>
            </OFFSET>
          </obsArea>
        </SpIterOffset>
        <SpIterIRPOL type="ic" subtype="instIRPOL">
          <iterConfigList>IRPOLIter</iterConfigList>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <IRPOLIter>0</IRPOLIter>
        </SpIterIRPOL>
      </SpIterFolder>
    </SpObs>
    <SpObs msb="true" optional="false" remaining="1" type="ob" subtype="none">
      <chainedToNext>false</chainedToNext>
      <estimatedDuration units="seconds">87.23999999999998</estimatedDuration>
      <library_version>$Revision$</library_version>
      <SpTelescopeObsCompRef idref="6"/>
      <SpInstIRCAM3Ref idref="7"/>
      <SpDRRecipeRef idref="8"/>
      <meta_gui_selected>false</meta_gui_selected>
      <chainedToPrev>false</chainedToPrev>
      <title>make_skyflat for Pol (IRCAM3)</title>
      <priority>99</priority>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <standard>false</standard>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This sequence obtains eight frames, two at each waveplate angle, that are median averaged to make a "master" flat field for use with all subsequent target pol observations.

N.B.  All current Polarimetry recipes require a separate flat field (and dark).</note>
        <title>Usage</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Select a piece of blank sky near your target.

For a step-by-step guide to how to use the position editor use "help".</note>
        <title>target information</title>
      </SpNote>
      <SpTelescopeObsComp id="6" type="oc" subtype="targetList">
        <meta_unique>true</meta_unique>
        <meta_gui_selected>false</meta_gui_selected>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <BASE TYPE="Base">
          <target>
            <targetName>Enter blank sky coords.</targetName>
            <spherSystem SYSTEM="J2000">
              <c1>00:00:00</c1>
              <c2>0:00:00</c2>
            </spherSystem>
          </target>
        </BASE>
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
      </SpTelescopeObsComp>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Remember to select the prism in the polariser box in the IRCAM3 component below!</note>
        <title>Filter AND Prism</title>
      </SpNote>
      <SpInstIRCAM3 id="7" type="oc" subtype="inst.IRCAM3">
        <instPort>East</instPort>
        <meta_version>1.0</meta_version>
        <readoutArea>256x256</readoutArea>
        <coadds>1</coadds>
        <sourceMag>none</sourceMag>
        <instAper>
          <value>5.21</value>
          <value>13.19</value>
          <value>0.0</value>
          <value>1.0</value>
        </instAper>
        <polariser>prism</polariser>
        <filter>Lp98</filter>
        <exposureTime>0.12</exposureTime>
        <meta_unique>true</meta_unique>
        <acqMode>Deepwell+STARE</acqMode>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
      </SpInstIRCAM3>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Recipe requires at least two frames at each of the 4 waveplate positions (0, 45, 22.5 and 67.5 degrees).  All frames should be at different positions on blank sky.  All frames are median averaged, regardless of the waveplate angle,  to make a "master-pol-flat".

N.B.: A Dark MUST be obtained first.  If you need separate flats for each waveplate position, select observation "make_skyflat for each WP angle" instead.</note>
        <title>Pol recipe</title>
      </SpNote>
      <SpDRRecipe id="8" type="oc" subtype="DRRecipe">
        <DarkInGroup>false</DarkInGroup>
        <ArcInGroup>false</ArcInGroup>
        <SkyRecipe>REDUCE_SKY</SkyRecipe>
        <ObjectRecipe>SKY_FLAT_POL</ObjectRecipe>
        <meta_gui_selected>false</meta_gui_selected>
        <FlatRecipe>REDUCE_FLAT</FlatRecipe>
        <BiasRecipe>REDUCE_BIAS</BiasRecipe>
        <meta_unique>true</meta_unique>
        <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
        <DarkRecipe>REDUCE_DARK</DarkRecipe>
        <SkyInGroup>true</SkyInGroup>
        <ObjectInGroup>true</ObjectInGroup>
        <ArcRecipe>REDUCE_ARC</ArcRecipe>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <BiasInGroup>false</BiasInGroup>
        <FlatInGroup>false</FlatInGroup>
        <title>SKY_FLAT_POL</title>
      </SpDRRecipe>
      <SpIterFolder type="if" subtype="none">
        <meta_gui_selected>false</meta_gui_selected>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <SpIterDarkObs type="ic" subtype="darkObs">
          <coadds>10</coadds>
          <exposureTime>0.12</exposureTime>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <repeatCount>1</repeatCount>
        </SpIterDarkObs>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is present to enable flat fields to be obtained for more than one filter.   It is set to one filter because the data-reduction recipe currently cannot handle multi-colour data.  The remainder of the note will apply once the recipe is made colour generic.

If you wish to observe at more than one wavelength, add filters to the "IRCAM3" component below, changing exposure times as required.</note>
          <title>Iterate through filters</title>
        </SpNote>
        <SpIterIRCAM3 type="ic" subtype="instIRCAM3">
          <instAperLIter>3.6</instAperLIter>
          <iterConfigList>
            <value>instAperLIter</value>
            <value>filterIter</value>
          </iterConfigList>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <filterIter>Lp98</filterIter>
          <SpNote type="no" subtype="none">
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <note>Observe at 8 different positions on the sky.  Waveplate hanged every 2 frames so that all 4 waveplate positions are sampled.

All eight frames median averaged to form flat field with 
SKY_FLAT_POL recipe.  N.B.: Darks required by recipe.</note>
            <title>2 positions x 4 WP positions.</title>
          </SpNote>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>60.0</DC1>
                  <DC2>60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>45</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>22.5</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>67.5</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>-30.0</DC1>
                  <DC2>-30.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>30.0</DC1>
                  <DC2>30.0</DC2>
                </OFFSET>
              </obsArea>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
        </SpIterIRCAM3>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Return waveplate to 0 degrees and
the telescope to slide 0 0</note>
          <title>Back to zero</title>
        </SpNote>
        <SpIterOffset type="ic" subtype="offset">
          <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <obsArea>
            <PA>0.0</PA>
            <OFFSET>
              <DC1>0.0</DC1>
              <DC2>0.0</DC2>
            </OFFSET>
          </obsArea>
        </SpIterOffset>
        <SpIterIRPOL type="ic" subtype="instIRPOL">
          <iterConfigList>IRPOLIter</iterConfigList>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <IRPOLIter>0</IRPOLIter>
        </SpIterIRPOL>
      </SpIterFolder>
    </SpObs>
    <SpObs msb="true" optional="false" remaining="1" type="ob" subtype="none">
      <chainedToNext>false</chainedToNext>
      <estimatedDuration units="seconds">168.39999999999995</estimatedDuration>
      <library_version>$Revision$</library_version>
      <SpTelescopeObsCompRef idref="9"/>
      <SpInstIRCAM3Ref idref="10"/>
      <SpDRRecipeRef idref="11"/>
      <meta_gui_selected>false</meta_gui_selected>
      <chainedToPrev>false</chainedToPrev>
      <title>make_skyflat for each WP angle for Pol (IRCAM3)</title>
      <priority>99</priority>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <standard>false</standard>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Construct separate flat fields for each of the four waveplate angles.  Any number of sky frames can be combined into each flat;  the recipe SKY_FLAT_POL_ANGLE should be used.

N.B.  All current polarimetry recipes require a separate flat field.</note>
        <title>Usage</title>
      </SpNote>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Select a piece of blank sky near your target.

For a step-by-step guide to how to use the position editor use "help".</note>
        <title>target information</title>
      </SpNote>
      <SpTelescopeObsComp id="9" type="oc" subtype="targetList">
        <meta_unique>true</meta_unique>
        <meta_gui_selected>false</meta_gui_selected>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <BASE TYPE="Base">
          <target>
            <targetName>Enter blank sky coords.</targetName>
            <spherSystem SYSTEM="J2000">
              <c1>00:00:00</c1>
              <c2>0:00:00</c2>
            </spherSystem>
          </target>
        </BASE>
        <meta_gui_selectedTelescopePos>Base</meta_gui_selectedTelescopePos>
      </SpTelescopeObsComp>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>Remember to select the prism in the polariser box in the IRCAM3 component below!</note>
        <title>Filter AND Prism</title>
      </SpNote>
      <SpInstIRCAM3 id="10" type="oc" subtype="inst.IRCAM3">
        <instPort>East</instPort>
        <meta_version>1.0</meta_version>
        <readoutArea>256x256</readoutArea>
        <coadds>1</coadds>
        <sourceMag>none</sourceMag>
        <instAper>
          <value>5.21</value>
          <value>13.19</value>
          <value>0.0</value>
          <value>1.0</value>
        </instAper>
        <polariser>prism</polariser>
        <filter>Lp98</filter>
        <exposureTime>0.12</exposureTime>
        <meta_unique>true</meta_unique>
        <acqMode>Deepwell+STARE</acqMode>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
      </SpInstIRCAM3>
      <SpNote type="no" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <note>This recipe creates a flat field for each of the four waveplate angles (0, 45, 22.5, and 67.5 degrees).  It requires frames consisting of at least three positions on the sky for each waveplate position, so that each group can be median averaged to form the flat.

N.B.: A Dark MUST be obtained first.

If you do not need flats at each waveplate angle, select the observation "make_skyflat for Pol".</note>
        <title>Pol recipe</title>
      </SpNote>
      <SpDRRecipe id="11" type="oc" subtype="DRRecipe">
        <DarkInGroup>false</DarkInGroup>
        <ArcInGroup>false</ArcInGroup>
        <SkyRecipe>REDUCE_SKY</SkyRecipe>
        <ObjectRecipe>SKY_FLAT_POL_ANGLE</ObjectRecipe>
        <meta_gui_selected>false</meta_gui_selected>
        <FlatRecipe>REDUCE_FLAT</FlatRecipe>
        <BiasRecipe>REDUCE_BIAS</BiasRecipe>
        <meta_unique>true</meta_unique>
        <DRRecipe>JITTER_SELF_FLAT</DRRecipe>
        <DarkRecipe>REDUCE_DARK</DarkRecipe>
        <SkyInGroup>true</SkyInGroup>
        <ObjectInGroup>true</ObjectInGroup>
        <ArcRecipe>REDUCE_ARC</ArcRecipe>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <BiasInGroup>false</BiasInGroup>
        <FlatInGroup>false</FlatInGroup>
        <title>SKY_FLAT_POL_ANGLE</title>
      </SpDRRecipe>
      <SpIterFolder type="if" subtype="none">
        <meta_gui_selected>false</meta_gui_selected>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <SpIterDarkObs type="ic" subtype="darkObs">
          <coadds>1</coadds>
          <exposureTime>10.0</exposureTime>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <repeatCount>1</repeatCount>
        </SpIterDarkObs>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>This is present to enable flat fields to be obtained for more than one filter.   It is set to one filter because the data-reduction recipe currently cannot handle multi-colour data.  The remainder of the note will apply once the recipe is made colour generic.

If you wish to observe at more than one wavelength, add filters to the "IRCAM3" component below, changing exposure times as required.</note>
          <title>Iterate through filters</title>
        </SpNote>
        <SpIterIRCAM3 type="ic" subtype="instIRCAM3">
          <instAperLIter>1.635</instAperLIter>
          <iterConfigList>
            <value>instAperLIter</value>
            <value>filterIter</value>
          </iterConfigList>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <filterIter>H98</filterIter>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>0</IRPOLIter>
            <SpNote type="no" subtype="none">
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <note>This uses a 5-point cross-shape jitter at 60-arcsecond steps.

Guiding may be switched off at the telescope.</note>
              <title>5pt on sky per WP angle</title>
            </SpNote>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset4</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>59.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>61.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>59.0</DC1>
                  <DC2>61.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>45</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>59.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>61.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>59.0</DC1>
                  <DC2>61.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>22.5</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>59.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>61.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>59.0</DC1>
                  <DC2>61.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
          <SpIterIRPOL type="ic" subtype="instIRPOL">
            <iterConfigList>IRPOLIter</iterConfigList>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <IRPOLIter>67.5</IRPOLIter>
            <SpIterOffset type="ic" subtype="offset">
              <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
              <obsArea>
                <PA>0.0</PA>
                <OFFSET>
                  <DC1>0.0</DC1>
                  <DC2>0.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>59.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>-60.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>61.0</DC1>
                  <DC2>-60.0</DC2>
                </OFFSET>
                <OFFSET>
                  <DC1>59.0</DC1>
                  <DC2>61.0</DC2>
                </OFFSET>
              </obsArea>
              <meta_gui_collapsed>false</meta_gui_collapsed>
              <SpIterObserve type="ic" subtype="observe">
                <repeatCount>1</repeatCount>
                <meta_gui_collapsed>false</meta_gui_collapsed>
              </SpIterObserve>
            </SpIterOffset>
          </SpIterIRPOL>
        </SpIterIRCAM3>
        <SpNote type="no" subtype="none">
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <note>Return waveplate to 0 degrees and the telescope to offset 0,0.</note>
          <title>Back to zero</title>
        </SpNote>
        <SpIterOffset type="ic" subtype="offset">
          <meta_gui_selectedOffsetPos>Offset0</meta_gui_selectedOffsetPos>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <obsArea>
            <PA>0.0</PA>
            <OFFSET>
              <DC1>0.0</DC1>
              <DC2>0.0</DC2>
            </OFFSET>
          </obsArea>
        </SpIterOffset>
        <SpIterIRPOL type="ic" subtype="instIRPOL">
          <iterConfigList>IRPOLIter</iterConfigList>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <IRPOLIter>0</IRPOLIter>
        </SpIterIRPOL>
      </SpIterFolder>
    </SpObs>
    <SpObs msb="true" optional="false" remaining="1" type="ob" subtype="none">
      <chainedToNext>false</chainedToNext>
      <SpInstMichelleRef idref="12"/>
      <library_version>$Revision$</library_version>
      <estimatedDuration units="seconds">294.37594709760003</estimatedDuration>
      <SpDRRecipeRef idref="13"/>
      <chainedToPrev>false</chainedToPrev>
      <title>Flats and Arc (MIchelle)</title>
      <priority>99</priority>
      <meta_gui_collapsed>true</meta_gui_collapsed>
      <standard>false</standard>
      <SpInstMichelle id="12" type="oc" subtype="inst.michelle">
        <instPntgOffset>
          <value>0.0</value>
          <value>0.0</value>
        </instPntgOffset>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <order>1</order>
        <centralWavelength>10.5</centralWavelength>
        <posAngle>0.0</posAngle>
        <disperser>LowN</disperser>
        <instPort>North</instPort>
        <waveform>ndrv11small</waveform>
        <meta_version>1</meta_version>
        <instAper>
          <value>0.59</value>
          <value>7.52</value>
          <value>0.0</value>
          <value>10.5</value>
        </instAper>
        <mode>NDCHOP</mode>
        <obsTimeOT>10.0</obsTimeOT>
        <filter>NPBlock</filter>
        <coadds>21</coadds>
        <nreads>44</nreads>
        <spectralCoverage>6.52 - 14.48</spectralCoverage>
        <observationTime>21.0469933872</observationTime>
        <dutyCycle>0.8764015041232526</dutyCycle>
        <chopFrequency>1.0452799407149327</chopFrequency>
        <maskAngle>0.455</maskAngle>
        <mustIdles>0</mustIdles>
        <meta_unique>true</meta_unique>
        <sampling>1x2</sampling>
        <nullReads>1</nullReads>
        <waveplate>wp_N</waveplate>
        <nullCycles>1</nullCycles>
        <pixelFOV>0.38 x 0.38</pixelFOV>
        <idlePeriod>0.01</idlePeriod>
        <configType>Normal</configType>
        <scienceArea>0.76 x 91.2</scienceArea>
        <filterCategory>Nband</filterCategory>
        <darkFilter>Blank</darkFilter>
        <polarimetry>yes</polarimetry>
        <readInterval>0.01</readInterval>
        <filterOT>F105B53</filterOT>
        <chopDelay>0.015</chopDelay>
        <mask>2_pixels</mask>
        <nullExposures>0</nullExposures>
        <resetDelay>0.01</resetDelay>
        <nresets>1</nresets>
        <camera>spectroscopy</camera>
        <exposureTime>0.43</exposureTime>
      </SpInstMichelle>
      <SpDRRecipe id="13" type="oc" subtype="DRRecipe">
        <SkyRecipe>REDUCE_SKY</SkyRecipe>
        <FlatRecipe>REDUCE_FLAT</FlatRecipe>
        <ArcRecipe>REDUCE_ARC</ArcRecipe>
        <DarkRecipe>REDUCE_BIAS</DarkRecipe>
        <title>POINT_SOURCE_POL</title>
        <meta_unique>true</meta_unique>
        <BiasInGroup>false</BiasInGroup>
        <DarkInGroup>false</DarkInGroup>
        <BiasRecipe>REDUCE_BIAS</BiasRecipe>
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <ObjectRecipe>POINT_SOURCE_POL</ObjectRecipe>
        <ArcInGroup>false</ArcInGroup>
        <FlatInGroup>false</FlatInGroup>
        <SkyInGroup>true</SkyInGroup>
        <ObjectInGroup>true</ObjectInGroup>
      </SpDRRecipe>
      <SpIterFolder type="if" subtype="none">
        <meta_gui_collapsed>false</meta_gui_collapsed>
        <SpIterIRPOL type="ic" subtype="instIRPOL">
          <iterConfigList>IRPOLIter</iterConfigList>
          <meta_gui_collapsed>false</meta_gui_collapsed>
          <IRPOLIter>0</IRPOLIter>
          <SpIterMichelleCalObs type="ic" subtype="MichelleCalObs">
            <nreads>44</nreads>
            <obsTimeOT>20.0</obsTimeOT>
            <observationTime>41.137305256800005</observationTime>
            <nullExposures>0</nullExposures>
            <resetDelay>0.01</resetDelay>
            <idlePeriod>0.01</idlePeriod>
            <filter>NPBlock</filter>
            <dutyCycle>0.8967829344517002</dutyCycle>
            <meta_gui_selected>false</meta_gui_selected>
            <calType>Flat</calType>
            <nullReads>1</nullReads>
            <exposureTime>0.43</exposureTime>
            <chopFrequency>1.0452799407149327</chopFrequency>
            <waveform>ndrv11small</waveform>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>3</repeatCount>
            <sampling>as object</sampling>
            <nullCycles>1</nullCycles>
            <nresets>1</nresets>
            <coadds>21</coadds>
            <chopDelay>0.015</chopDelay>
            <mustIdles>0</mustIdles>
            <mode>NDCHOP</mode>
            <readInterval>0.01</readInterval>
            <flatSource>shutter</flatSource>
          </SpIterMichelleCalObs>
          <SpIterMichelleCalObs type="ic" subtype="MichelleCalObs">
            <nreads>44</nreads>
            <obsTimeOT>20.0</obsTimeOT>
            <observationTime>41.137305256800005</observationTime>
            <nullExposures>0</nullExposures>
            <resetDelay>0.01</resetDelay>
            <idlePeriod>0.01</idlePeriod>
            <filter>WCalLowN</filter>
            <dutyCycle>0.8967829344517002</dutyCycle>
            <meta_gui_selected>false</meta_gui_selected>
            <calType>Arc</calType>
            <nullReads>1</nullReads>
            <exposureTime>0.43</exposureTime>
            <chopFrequency>1.0452799407149327</chopFrequency>
            <waveform>ndrv11small</waveform>
            <meta_gui_collapsed>false</meta_gui_collapsed>
            <repeatCount>1</repeatCount>
            <sampling>as object</sampling>
            <nullCycles>1</nullCycles>
            <nresets>1</nresets>
            <coadds>21</coadds>
            <chopDelay>0.015</chopDelay>
            <mustIdles>0</mustIdles>
            <mode>NDCHOP</mode>
            <readInterval>0.01</readInterval>
            <flatSource>shutter</flatSource>
          </SpIterMichelleCalObs>
        </SpIterIRPOL>
      </SpIterFolder>
    </SpObs>
  </SpLibraryFolder>
</SpLibrary>